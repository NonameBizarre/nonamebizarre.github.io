var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var mygame;(function(b){var a=(function(d){__extends(c,d);function c(){d.apply(this,arguments)}c.prototype.preload=function(){this.preloadBarBackground=this.add.image(0,0,"preloaderBarEmpty");this.preloadBar=this.add.image(0,0,"preloaderBar");this.preloadBarBackground.alignIn(this.game.world.bounds,Phaser.CENTER);this.preloadBar.x=Math.floor(this.preloadBarBackground.x);this.preloadBar.y=Math.floor(this.preloadBarBackground.y);this.load.setPreloadSprite(this.preloadBar);this.icon=this.add.image(0,0,"connect");this.icon.anchor.set(0.5);this.icon.scale.x=-1;this.icon.x=this.preloadBar.x+this.preloadBar.width/2;this.icon.y=this.preloadBar.y+this.preloadBar.height+30;var e=this.game.time.events.loop(10,function(){this.icon.rotation+=0.1},this);var f=window.baseURL;this.game.load.image("shadow",f+"assets/shadow.png");this.game.load.image("background",f+"assets/background.jpg");this.game.load.atlasJSONHash("images",f+"assets/images.png",f+"assets/images.json");this.game.load.bitmapFont("font_all",f+"assets/font_all.png",f+"assets/font_all.fnt");this.game.load.audio("win",f+"assets/sounds/win.mp3");this.game.load.audio("choose",f+"assets/sounds/choose.mp3");this.game.load.audio("chips_bet",f+"assets/sounds/chips_bet.mp3");this.game.load.audio("chips_move",f+"assets/sounds/chips_move.mp3");this.game.load.audio("click",f+"assets/sounds/click.mp3");this.game.load.audio("flop",f+"assets/sounds/flop.mp3");this.game.load.audio("new_card",f+"assets/sounds/new_card.mp3");this.ChangeSize()};c.prototype.create=function(){this.ChangeSize();this.game.state.start("PlayState")};c.prototype.ChangeSize=function(){this.game.scale.setGameSize(window.innerWidth,window.innerHeight);this.preloadBarBackground.width=window.innerWidth;this.preloadBarBackground.scale.x=this.preloadBarBackground.scale.x-0.1;this.preloadBarBackground.scale.y=this.preloadBarBackground.scale.x;this.preloadBar.scale.set(this.preloadBarBackground.scale.x,this.preloadBarBackground.scale.y);if(this.game.scale.width>window.innerWidth){this.game.canvas.style.marginLeft="-"+(this.game.scale.width-window.innerWidth)/2+"px"}this.preloadBarBackground.alignIn(this.game.world.bounds,Phaser.CENTER);this.preloadBar.x=this.preloadBarBackground.x;this.preloadBar.y=this.preloadBarBackground.y;this.icon.x=this.preloadBarBackground.x+this.preloadBarBackground.width/2;this.icon.y=this.preloadBarBackground.y+this.preloadBarBackground.height+30};return c}(Phaser.State));b.Preloader=a})(mygame||(mygame={}));var mygame;(function(h){var e="1.0.0";var i;var d;var a=30;var j;var f;var n;var c;var m=(function(p){__extends(q,p);function q(){p.apply(this,arguments)}q.prototype.create=function(){h.Lang.loc=window.lang;h.Controller.Instance.reset();this.game.stage.smoothed=true;h.Controller.Instance.width=o().width;h.Controller.Instance.height=o().height;c=new BackGround(this.game);n=new UITable(this.game);n.x=0;h.Controller.Instance.addTable(this.game,n);this.ChangeSize()};q.prototype.ChangeSize=function(){this.game.scale.setGameSize(o().width,o().height);o(true);if(document&&document.body){document.body.style.margin="0px 0px 0px 0px"}if(o().width>o().height){b()}else{k()}};return q}(Phaser.State));h.PlayState=m;function o(t){if(t===void 0){t=false}var q=0;var s=0;var p=0;var r=0;if(!(document.documentElement.clientWidth==0)){p=document.documentElement.clientWidth;r=document.documentElement.clientHeight}if(t){console.log(window.innerHeight+" "+r,window.outerHeight)}q=p;s=r;if(window.innerWidth>window.innerHeight){q=window.innerWidth;s=window.innerHeight}return{width:q,height:s}}function l(p,q){if(q===void 0){q=null}window.trackEvent(p,q)}function b(){c.x=(o().width-c.width)/2;var p=o().width;var q=((p*100)/1280)/100;console.log("scale",q);n.scale.set(q)}function k(){console.log("setupPortrait",n.width);c.x=(o().width-c.width)/2;var p=o().width;var r=o().height;var q=((p*100)/720)/100;if(q>1){var t=((p*100)/r)/100;n.scale.set(t);n.x=(p-720*t)/2}else{n.scale.set(q);n.x=(p-720*q)/2}}function g(){window.trackClick()}})(mygame||(mygame={}));var mygame;(function(a){var b=(function(){function c(){this.balance=500;this.dealTime=5;this.playerMoney=3000;this.soundsEnabled=true;this.width=1280;this.height=720;this.orientation=c.LANDSCAPE}Object.defineProperty(c,"Instance",{get:function(){if(this.instance===null||this.instance===undefined){this.instance=new c()}return this.instance},enumerable:true,configurable:true});c.prototype.playSound=function(d){if(this.soundsEnabled){}};c.prototype.addTable=function(d,e){this.game=d;this.table=e};c.prototype.reset=function(){this.balance=500;this.playerMoney=3000};c.prototype.selectHand=function(d){this.table.selectTable(d)};c.LANDSCAPE="landscape";c.PORTRAIT="portrait";return c}());a.Controller=b})(mygame||(mygame={}));var mygame;(function(a){var b=(function(){function c(){this.CHOOSE={en:"CHOOSE",ru:"ВЫБРАТЬ"};this.HINT={en:"CHOOSE THE BEST COMBINATION:",ru:"ВЫБЕРИТЕ ЛУЧШУЮ КОМБИНАЦИЮ:"};this.POT={en:"POT:",ru:"БАНК:"};this.BALANCE={en:"BALANCE:",ru:"ВАШ БАЛАНС:"};this.YOU_WIN={en:"YOU WIN",ru:"ВЫ ВЫИГРАЛИ"};this.STRAIGHT={en:"STRAIGHT",ru:"СТРИТ"};this.FLUSH_ROYAL={en:"FLUSH ROYAL",ru:"РОЯЛ-ФЛЕШ"};this.THREE_OF_A_KIND={en:"THREE OF A KIND",ru:"СЕТ"};this.FULL_HOUSE={en:"FULL HOUSE",ru:"ФУЛЛ-ХАУС"};this.STRAIGHT_FLUSH={en:"STRAIGHT FLUSH",ru:"СТРИТ-ФЛЕШ"};this.FLUSH={en:"FLUSH",ru:"ФЛЕШ"};this.PAIR={en:"PAIR",ru:"ПАРА"};this.FOUR_OF_A_KIND={en:"FOUR OF A KIND",ru:"КАРЕ"};this.PLAYHINT={en:"PLAY",ru:"ИГРАТЬ"};this.LIKE={en:"LIKE POKER?",ru:"НРАВИТСЯ ПОКЕР?"};this.GETAPP={en:"GET ON A NEW LEVEL WITH THIS APP!",ru:"ЛУЧШИЙ ПОКЕР В МИРЕ!"};this.GAMENAME={en:"Pokerist: Texas Holdem Poker Online!",ru:"Pokerist: Техасский Покер Онлайн!"};this.COPYRIGHT={en:"By KamaGames",ru:"KamaGames"}}Object.defineProperty(c,"Instance",{get:function(){if(this.instance===null||this.instance===undefined){this.instance=new c()}return this.instance},enumerable:true,configurable:true});c.loc="ru";return c}());a.Lang=b})(mygame||(mygame={}));var mygame;(function(b){var a=(function(d){__extends(c,d);function c(){d.apply(this,arguments)}c.prototype.preload=function(){this.load.crossOrigin="anonymous";var e=window.baseURL;this.game.load.image("connect",e+"assets/connect.png");this.game.load.image("preloaderBar",e+"assets/loadingBarOnly.png");this.game.load.image("preloaderBarEmpty",e+"assets/loadingBarEmpty.png")};c.prototype.create=function(){this.game.renderer.resolution=window.devicePixelRatio;if(this.game.renderer.resolution<2){this.game.renderer.resolution=2}if(document.documentElement.clientWidth>document.documentElement.clientHeight){b.Controller.Instance.orientation=b.Controller.LANDSCAPE}else{b.Controller.Instance.orientation=b.Controller.PORTRAIT}this.game.input.touch.preventDefault=false;this.game.scale.bounds.setTo(0,0,window.innerWidth,window.innerHeight);this.game.stage.backgroundColor=1907997;this.input.maxPointers=1;this.stage.disableVisibilityChange=true;this.game.state.start("Preloader")};return c}(Phaser.State));b.Boot=a})(mygame||(mygame={}));var mygame;(function(a){var b=(function(c){__extends(d,c);function d(){c.call(this,1280,720,Phaser.CANVAS,"mdsp-creative",null,false,true);this.state.add("Boot",a.Boot,false);this.state.add("Preloader",a.Preloader,false);this.state.add("PlayState",a.PlayState,false);this.state.start("Boot")}return d}(Phaser.Game));a.Game=b})(mygame||(mygame={}));var FxSplash=(function(a){__extends(b,a);function b(f,c,i,j,e){if(e===void 0){e=false}a.call(this,f);var d=f.add.graphics(0,0);if(e){d.beginFill(0,0.5)}else{d.beginFill(0)}d.drawRoundedRect(0,0,c,i,j);d.endFill();this.addChild(d);var g=this.game.add.sprite(0,0,"images","splash.png");if(!e){g.mask=d}this.addChild(g);g.x=-400;this.splash=g}b.prototype.playLoop=function(e,c,d){if(e===void 0){e=1000}if(c===void 0){c=500}if(d===void 0){d=false}this.game.add.tween(this.splash).to({x:500},e,Phaser.Easing.Sinusoidal.Out,true,c).loop(true).yoyo(d)};b.prototype.playOnce=function(){this.game.add.tween(this.splash).to({x:500},1000,Phaser.Easing.Sinusoidal.Out,true,500)};return b}(Phaser.Group));var ResultWindow=(function(b){__extends(a,b);function a(n){b.call(this,n);var k=this.game.add.image(0,0,"shadow");this.addChild(k);k.visible=false;var j=new UITokensWin(this.game,Math.floor(3+Math.random()*10),"red");this.addChild(j);j.visible=false;var i=new UITokensWin(this.game,Math.floor(3+Math.random()*10),"green");this.addChild(i);i.visible=false;var e=new UITokensWin(this.game,Math.floor(3+Math.random()*10));this.addChild(e);e.visible=false;var f=new UITokensWin(this.game,Math.floor(3+Math.random()*10),"orange");this.addChild(f);f.visible=false;var g=new UIResultTitle(this.game);this.addChild(g);g.visible=false;var d=this.game.add.bitmapText(200,10,"font_all",Lang.Instance.LIKE[Lang.loc],71);this.addChild(d);d.visible=false;var h=this.game.add.bitmapText(200,10,"font_all",Lang.Instance.GETAPP[Lang.loc],50);this.addChild(h);h.visible=false;var m=new UIButtonPlay(this.game);this.addChild(m);m.visible=false;var c=new UIBottomPanel(this.game);this.addChild(c);c.visible=false;this.shadow=k;this.tokensSetRed=j;this.tokensSetGreen=i;this.tokensSetOrange=f;this.tokensSetBlue=e;this.timer=this.game.time.create(false);var l=500;this.timer.add(l+200,this.show1,this);this.timer.add(l+500,this.show2,this);this.timer.add(l+1000,this.show3,this);this.timer.add(l+1500,this.show4,this);this.timer.start();this.shadow.alpha=0;if(Controller.Instance.orientation==Controller.LANDSCAPE){k.width=1280;k.height=720;g.x=(1280-g.width)/2;g.y=(720-g.height)/2-50;d.x=(1280-d.width)/2;d.y=g.y+g.height-80;h.x=(1280-h.width)/2;h.y=d.y+d.height+10;m.x=430;m.y=h.y+h.height+40;c.y=850;f.x=g.x+g.width/2-j.width/2;f.y=g.y-30;i.x=g.x+g.width/2-i.width/2-50;i.y=g.y-60;j.x=g.x+g.width/2-i.width/2-10;j.y=g.y-90;e.x=g.x+g.width/2+i.width/2-30;e.y=g.y-70;k.visible=true;j.visible=true;i.visible=true;e.visible=true;f.visible=true;g.visible=true;d.visible=true;h.visible=true;m.visible=true;c.visible=true;this.game.add.tween(this.shadow).to({alpha:1},500,Phaser.Easing.Sinusoidal.Out,true);this.game.add.tween(c).to({y:620},500,Phaser.Easing.Sinusoidal.Out,true,2200);g.y=-g.height;this.game.add.tween(g).to({y:(720-g.height)/2-50},500,Phaser.Easing.Sinusoidal.Out,true,200);m.y=800;this.btnPlay=m;this.game.add.tween(m).to({y:h.y+h.height+40},500,Phaser.Easing.Sinusoidal.Out,true,1200).onComplete.add(this.showPlay,this);d.x=-d.width;h.x=1280;this.game.add.tween(d).to({x:(1280-d.width)/2},500,Phaser.Easing.Sinusoidal.Out,true,l+200);this.game.add.tween(h).to({x:(1280-h.width)/2},500,Phaser.Easing.Sinusoidal.Out,true,l+300)}else{k.width=720;k.height=1280;g.x=(720-g.width)/2;g.y=(1280-g.height)/2-50;d.x=(720-d.width)/2;d.y=g.y+g.height-80;h.x=(720-h.width)/2;h.y=d.y+d.height+30;m.x=150;m.y=h.y+h.height+100;c.y=1400;f.x=g.x+g.width/2-j.width/2;f.y=g.y-30;i.x=g.x+g.width/2-i.width/2-50;i.y=g.y-60;j.x=g.x+g.width/2-i.width/2-10;j.y=g.y-90;e.x=g.x+g.width/2+i.width/2-30;e.y=g.y-70;k.visible=true;j.visible=true;i.visible=true;e.visible=true;f.visible=true;g.visible=true;d.visible=true;h.visible=true;m.visible=true;c.visible=true;this.game.add.tween(this.shadow).to({alpha:1},500,Phaser.Easing.Sinusoidal.Out,true);this.game.add.tween(c).to({y:1180},500,Phaser.Easing.Sinusoidal.Out,true,2200);g.y=-g.height;this.game.add.tween(g).to({y:(1280-g.height)/2-50},500,Phaser.Easing.Sinusoidal.Out,true,200);m.y=1280;this.btnPlay=m;this.game.add.tween(m).to({y:h.y+h.height+100},500,Phaser.Easing.Sinusoidal.Out,true,1200).onComplete.add(this.showPlay,this);d.x=-d.width;h.x=720;this.game.add.tween(d).to({x:(720-d.width)/2},500,Phaser.Easing.Sinusoidal.Out,true,l+200);this.game.add.tween(h).to({x:(720-h.width)/2},500,Phaser.Easing.Sinusoidal.Out,true,l+300)}}a.prototype.showPlay=function(){var c=this.btnPlay.x-24;var f=this.btnPlay.y-10;var e=250;var d=250;if(Controller.Instance.orientation==Controller.LANDSCAPE){c=this.btnPlay.x-24;f=this.btnPlay.y-10}this.game.add.tween(this.btnPlay.scale).to({x:1.1,y:1.1},e,Phaser.Easing.Sinusoidal.Out,true).loop(true).yoyo(true,d);this.game.add.tween(this.btnPlay).to({x:c,y:f},e,Phaser.Easing.Sinusoidal.Out,true).loop(true).yoyo(true,d)};a.prototype.show1=function(){this.tokensSetOrange.show()};a.prototype.show2=function(){this.tokensSetGreen.show()};a.prototype.show3=function(){this.tokensSetRed.show()};a.prototype.show4=function(){this.tokensSetBlue.show()};return a}(Phaser.Group));var BackGround=(function(a){__extends(b,a);function b(c){a.call(this,c);this.bg=this.game.add.image(0,0,"background");this.addChild(this.bg);if(Controller.Instance.orientation==Controller.LANDSCAPE){this.bg.height=Controller.Instance.width;this.bg.scale.x=this.bg.scale.y;this.x=0}else{this.bg.height=Controller.Instance.height;this.bg.scale.x=this.bg.scale.y;this.x=(Controller.Instance.width-this.bg.width)/2}}return b}(Phaser.Group));var UIBottomPanel=(function(a){__extends(b,a);function b(d){a.call(this,d);var c=d.add.graphics(0,0);c.beginFill(17783);c.drawRect(0,0,1280,100);c.endFill();this.addChild(c);var e=this.game.add.image(0,0,"images","icon@2x.png");this.addChild(e);e.anchor.set(0.5);e.scale.set(0.75);e.x=100;e.y=0;var g=this.game.add.bitmapText(200,10,"font_all",Lang.Instance.GAMENAME[Lang.loc],34);this.addChild(g);var f=this.game.add.bitmapText(200,40,"font_all",Lang.Instance.COPYRIGHT[Lang.loc],34);this.addChild(f)}return b}(Phaser.Group));var UIButtonPlay=(function(b){__extends(a,b);function a(c){b.call(this,c);var d=this.game.add.sprite(0,0,"images","play.png");this.addChild(d);d.scale.set(1);var e=new FxSplash(this.game,d.width,d.height-6,10);this.addChild(e);e.x=0;e.y=0;e.playLoop();var f=this.game.add.bitmapText(0,0,"font_all",Lang.Instance.PLAYHINT[Lang.loc],72);this.addChild(f);f.x=d.x+(d.width-f.width)/2;f.y=d.y+(d.height-f.height)/2-15;d.inputEnabled=true;d.events.onInputUp.add(this.onClick,this)}a.prototype.onClick=function(){window.trackClick()};return a}(Phaser.Group));var Lang=mygame.Lang;var UIButtonSelect=(function(a){__extends(b,a);function b(e){a.call(this,e);var f=this.game.add.sprite(0,0,"images","select.png");this.addChild(f);var c=this.game.add.bitmapText(0,0,"font_all",Lang.Instance.CHOOSE[Lang.loc],31);c.smoothed=true;this.addChild(c);c.x=f.x+(f.width-c.width)/2;c.y=25;var i=this.game.add.sprite(0,0,"images","false.png");this.addChild(i);var g=this.game.add.sprite(0,0,"images","right.png");this.addChild(g);g.x=4;this.selectState=f;this.falseState=i;this.rightState=g;var h=new FxSplash(this.game,f.width-24,f.height-24,10);this.addChild(h);h.x=14;h.y=10;h.playLoop(1000,1000);this.splash=h;this.splash.visible=false;var d=e.add.graphics(0,0);d.inputEnabled=true;d.beginFill(0,0);d.drawRect(0,-150,250,300);d.endFill();this.addChild(d);d.events.onInputUp.add(this.onClick,this)}b.prototype.setStatus=function(c){this.splash.visible=false;this.selectState.visible=false;this.falseState.visible=false;this.rightState.visible=false;if(c==0){this.selectState.visible=true;this.splash.visible=true}else{if(c==1){this.falseState.visible=true}else{this.rightState.visible=true}}};b.prototype.onClick=function(){this.game.sound.play("click");if(this.callback!=null){this.callback()}};return b}(Phaser.Group));var UICard=(function(b){__extends(a,b);function a(d){b.call(this,d);var c=this.game.add.image(0,0,"images","card_place.png");this.addChild(c);c.x=-1;c.y=-1;var e=this.game.add.image(0,0,"images","as.png");this.addChild(e);var g=this.game.add.image(0,0,"images","back.png");this.addChild(g);this.back=c;this.card=e;this.cover=g;g.visible=false;var f=new FxSplash(this.game,e.width-4,e.height-4,5);this.addChild(f);f.x=e.x+2;this.splash=f}a.prototype.setValue=function(d,c){if(d===void 0){d="as"}if(c===void 0){c=false}if(d!=""){this.card.visible=true;this.cover.visible=false;this.card.frameName=d.toLowerCase()+".png"}else{this.card.visible=false;this.cover.visible=false}if(c){this.back.visible=false}};a.prototype.playFX=function(){this.splash.playOnce()};return a}(Phaser.Group));var Button=Phaser.Button;var Controller=mygame.Controller;var UIHand=(function(b){__extends(a,b);function a(e,h){if(h===void 0){h=2}b.call(this,e);this.cards=[];this.handID=-1;this.cardWidth=90;this.values=[];this.main=this;var d=new UICardSelect(this.game);this.addChild(d);var k=[];for(var g=0;g<h;g++){var j=new UICard(this.game);this.addChild(j);if(Controller.Instance.orientation==Controller.LANDSCAPE){j.x=(this.cardWidth+10)*g}else{j.x=100*g;if(g>2){j.x=50+100*(g-3);j.y=130}}k[g]=j}var f;if(h==2){var c=190;f=new UIButtonSelect(this.game);this.add(f);f.callback=this.clickButton;f.x=(c-250)/2;f.y=k[0].y+138;this.btnYDef=f.y}this.btn=f;this.cards=k;d.x=-47;d.y=-51;d.visible=false;this.selecter=d}a.prototype.showSelector=function(){this.selecter.alpha=0;this.selecter.visible=true;this.game.add.tween(this.selecter).to({alpha:1},200,Phaser.Easing.Sinusoidal.InOut,true).onComplete.addOnce(this.hideSelector,this)};a.prototype.hideSelectorInstant=function(){this.selecter.alpha=0;this.selecter.visible=false};a.prototype.hideSelector=function(){this.game.add.tween(this.selecter).to({alpha:0},200,Phaser.Easing.Sinusoidal.InOut,true,500)};a.prototype.clickButton=function(){var c=this.parent;Controller.Instance.selectHand(c.handID)};a.prototype.setCards=function(g,f,e){if(f===void 0){f=false}if(e===void 0){e=false}for(var d=0;d<g.length;d++){var c=this.cards[d];if(e){c.x=100*d;if(Controller.Instance.orientation==Controller.LANDSCAPE){c.y=-280}else{if(d>2){c.x=50+100*(d-3);c.y=-280+130}}}c.setValue(g[d],f);this.values[d]=g[d]}if(e){this.selecter.x=-47;this.selecter.y=-51}};a.prototype.isWin=function(d){for(var c=0;c<d.length;c++){if(d[c]!=this.values[c]){return false}}return true};a.prototype.startRound=function(d){if(d===void 0){d=0}var f=250;for(var e=0;e<this.cards.length;e++){var c=this.cards[e];if(Controller.Instance.orientation==Controller.LANDSCAPE){c.y=-330;if(d!=0){c.y=-600}}else{c.y=-330-200;if(d!=0){c.y=1280}}this.game.add.tween(c).to({y:0},f,Phaser.Easing.Sinusoidal.InOut,true,d+e*100).onStart.add(function(){})}if(this.btn){this.btn.y=300;this.game.add.tween(this.btn).to({y:this.btnYDef},f,Phaser.Easing.Sinusoidal.InOut,true,400)}};a.prototype.hide=function(){this.game.sound.play("new_card");for(var d=0;d<this.cards.length;d++){var c=this.cards[d];this.game.add.tween(c).to({y:-600,x:100},500,Phaser.Easing.Sinusoidal.InOut,true)}};a.prototype.prepareWinCars=function(e){for(var d=0;d<this.cards.length;d++){var c=this.cards[d];c.x=100*d;c.y=0;c.setValue(e[d],true);this.values[d]=e[d]}};a.prototype.prepare=function(d){if(d===void 0){d=0}this.visible=true;for(var e=0;e<this.cards.length;e++){var c=this.cards[e];if(Controller.Instance.orientation==Controller.LANDSCAPE){c.y=-330;if(d!=0){c.y=-600}}else{c.y=-330-600;if(d!=0){c.y=-600-600}}}};a.prototype.init=function(){this.btn.setStatus(0)};a.prototype.playFX=function(){for(var d=0;d<this.cards.length;d++){var c=this.cards[d];c.playFX()}};a.prototype.win=function(){var e=500;this.showSelector();this.btn.setStatus(2);this.selecter.visible=true;var h=440;var g=-280;if(this.handID==1){h=440-300}if(this.handID==2){h=440-600}if(Controller.Instance.orientation==Controller.PORTRAIT){var f=320;h=f;if(this.handID==0){h=f-75}if(this.handID==1){h=f-315}if(this.handID==2){h=f-555}g=-550}for(var d=0;d<this.cards.length;d++){var c=this.cards[d];if(d==0){this.game.add.tween(c).to({x:h,y:g},e,Phaser.Easing.Sinusoidal.InOut,true)}else{this.game.add.tween(c).to({x:h+100,y:g},e,Phaser.Easing.Sinusoidal.InOut,true)}}if(Controller.Instance.orientation==Controller.LANDSCAPE){this.game.add.tween(this.selecter).to({x:h-47,y:-328},e,Phaser.Easing.Sinusoidal.InOut,true)}else{this.game.add.tween(this.selecter).to({x:h-47,y:-328-270},e,Phaser.Easing.Sinusoidal.InOut,true)}this.game.add.tween(this.btn).to({y:300},e,Phaser.Easing.Sinusoidal.InOut,true,500)};a.prototype.lose=function(){this.btn.setStatus(1);var e=500;this.game.add.tween(this.btn).to({y:300},e,Phaser.Easing.Sinusoidal.InOut,true,500);for(var d=0;d<this.cards.length;d++){var c=this.cards[d];this.game.add.tween(c).to({y:300},e,Phaser.Easing.Sinusoidal.InOut,true,750+d*100)}};return a}(Phaser.Group));var UIHands=(function(a){__extends(b,a);function b(d){a.call(this,d);this.hands=[];var f=[];var c;for(var e=0;e<3;e++){c=new UIHand(this.game);this.addChild(c);if(Controller.Instance.orientation==Controller.LANDSCAPE){c.x=300*e}else{c.x=240*e}c.handID=e;f[e]=c}this.hands=f}b.prototype.startRound=function(){var c;for(var d=0;d<3;d++){c=this.hands[d];c.startRound(100+d*200)}};b.prototype.showSelectors=function(){var c;for(var d=0;d<3;d++){c=this.hands[d];c.showSelector()}};b.prototype.hideSelectors=function(){var c;for(var d=0;d<3;d++){c=this.hands[d];c.hideSelectorInstant()}};b.prototype.setCards=function(f,e){if(e===void 0){e=false}var c;for(var d=0;d<3;d++){c=this.hands[d];c.init();c.setCards(f[d],true,e)}};b.prototype.win=function(f){var c;var e=-1;for(var d=0;d<3;d++){c=this.hands[d];if(c.isWin(f)){c.win();e=d;this.bringToTop(c)}else{c.lose()}}return e};return b}(Phaser.Group));var UICardSelect=(function(b){__extends(a,b);function a(e){b.call(this,e);var d=this.game.add.image(0,0,"images","ramka.png");this.addChild(d);var c=this.game.add.image(0,0,"images","ramka.png");c.scale.x=-1;c.x=d.width*2;this.addChild(c);this.scale.set(1.05,1.05)}return a}(Phaser.Group));var UILogo=(function(a){__extends(b,a);function b(c){a.call(this,c);var d=this.game.add.image(0,0,"images","logo.png");var e=new FxSplash(this.game,d.width,d.height-5,0);this.addChild(e);this.addChild(d);this.scale.set(0.75);e.playLoop(1000,2000)}return b}(Phaser.Group));var BitmapText=Phaser.BitmapText;var UIMoneyLabel=(function(b){__extends(a,b);function a(d,c){if(c===void 0){c=false}b.call(this,d);var f="";if(c){f="2"}var e=this.game.add.image(0,0,"images","bank"+f+".png");this.addChild(e);var h=this.game.add.bitmapText(0,0,"font_all",Lang.Instance.POT[Lang.loc],30);this.addChild(h);h.x=Math.floor(e.x+(e.width-h.width)/2);h.y=9;var g=this.game.add.bitmapText(0,0,"font_all","$200",30);this.addChild(g);g.x=200;g.y=9;if(c){h.tint=16772648;h.x=20;g.x=100}else{h.text=Lang.Instance.BALANCE[Lang.loc];h.fontSize=24;h.y=-31;h.x=e.x+(e.width-h.width)/2;g.x=e.x+(e.width-g.width)/2}this.label=g}a.prototype.setValue=function(c){this.label.text="$"+c};return a}(Phaser.Group));var UIResultTitle=(function(b){__extends(a,b);function a(c){b.call(this,c);var d=new UIStripTitle(this.game);this.addChild(d);var e=new UITitleWin(this.game);this.addChild(e);e.x=(d.width-e.width)/2;e.y=(d.height-e.height)/2-55}return a}(Phaser.Group));var UIStripTitle=(function(b){__extends(a,b);function a(c){b.call(this,c);var e=this.game.add.image(0,0,"images","lenta.png");this.addChild(e);var d=this.game.add.image(0,0,"images","lenta.png");this.addChild(d);d.scale.x=-1;d.x=e.width*2}return a}(Phaser.Group));var Timer=Phaser.Timer;var ArrayUtils=Phaser.ArrayUtils;var UITable=(function(b){__extends(a,b);function a(n){b.call(this,n);this.currentWin=0;this.isWin=false;this.firstTime=true;this.level=0;this.gameIsEnded=false;this.startTime=0;this.combinations=[{win:["ks","kh","kd","kc","as"],table:["ks","kh","kd"],hands:[["kc","as"],["qc","jh"],["qh","jc"]],name:Lang.Instance.FOUR_OF_A_KIND[Lang.loc],winHand:["kc","as"]},{win:["qs","qh","ts","qc","qd"],table:["qs","qh","ts"],hands:[["qc","qd"],["th","tc"],["as","5h"]],name:Lang.Instance.FOUR_OF_A_KIND[Lang.loc],winHand:["qc","qd"]},{win:["jc","2s","js","jh","jd"],table:["jc","2s","js"],hands:[["jh","jd"],["kd","ad"],["ks","as"]],name:Lang.Instance.FOUR_OF_A_KIND[Lang.loc],winHand:["jh","jd"]},{win:["7d","ad","ac","ah","as"],table:["7d","ad","ac"],hands:[["ah","as"],["2c","5h"],["kc","kd"]],name:Lang.Instance.FOUR_OF_A_KIND[Lang.loc],winHand:["ah","as"]},{win:["7d","7s","7h","ks","7c"],table:["7d","7s","7h"],hands:[["ks","7c"],["2d","2h"],["as","ah"]],name:Lang.Instance.FOUR_OF_A_KIND[Lang.loc],winHand:["ks","7c"]},{win:["3d","3s","3h","ks","kc"],table:["3d","3s","3h"],hands:[["ks","kc"],["ts","tc"],["2h","4d"]],name:Lang.Instance.FULL_HOUSE[Lang.loc],winHand:["ks","kc"]},{win:["7c","7h","7s","3s","3c"],table:["7c","7h","7s"],hands:[["3s","3c"],["5h","2d"],["ks","ac"]],name:Lang.Instance.FULL_HOUSE[Lang.loc],winHand:["3s","3c"]},{win:["qd","qs","3h","qh","3c"],table:["qd","qs","3h"],hands:[["qh","3c"],["3d","as"],["9d","tc"]],name:Lang.Instance.FULL_HOUSE[Lang.loc],winHand:["qh","3c"]},{win:["tc","5h","5d","th","ts"],table:["tc","5h","5d"],hands:[["th","ts"],["5c","td"],["3h","3h"]],name:Lang.Instance.FULL_HOUSE[Lang.loc],winHand:["th","ts"]},{win:["ah","as","ad","ks","kc"],table:["ah","as","ad"],hands:[["ks","kc"],["qh","qd"],["3s","7c"]],name:Lang.Instance.FULL_HOUSE[Lang.loc],winHand:["ks","kc"]},{win:["2s","5s","as","ks","3s"],table:["2s","5s","as"],hands:[["ks","3s"],["qs","2d"],["3s","3c"]],name:Lang.Instance.FLUSH[Lang.loc],winHand:["ks","3s"]},{win:["9h","th","qh","2h","5h"],table:["9h","th","qh"],hands:[["2h","5h"],["kh","jd"],["3s","7c"]],name:Lang.Instance.FLUSH[Lang.loc],winHand:["2h","5h"]},{win:["td","qd","7d","2d","3d"],table:["td","qd","7d"],hands:[["2d","3d"],["7s","7c"],["ah","ac"]],name:Lang.Instance.FLUSH[Lang.loc],winHand:["2d","3d"]},{win:["jc","qc","ac","2c","3c"],table:["jc","qc","ac"],hands:[["2c","3c"],["qs","as"],["ad","ah"]],name:Lang.Instance.FLUSH[Lang.loc],winHand:["2c","3c"]},{win:["qs","ks","as","ts","js"],table:["qs","ks","as"],hands:[["ts","js"],["ad","ac"],["kd","ah"]],name:Lang.Instance.FLUSH_ROYAL[Lang.loc],winHand:["ts","js"]},{win:["4s","5d","6c","7s","8h"],table:["4s","5d","6c"],hands:[["7s","8h"],["3d","7c"],["ah","kh"]],name:Lang.Instance.STRAIGHT[Lang.loc],winHand:["7s","8h"]},{win:["js","kc","qs","ad","th"],table:["js","kc","qs"],hands:[["ad","th"],["5c","7d"],["as","ks"]],name:Lang.Instance.STRAIGHT[Lang.loc],winHand:["ad","th"]},{win:["5c","6d","7d","8c","9c"],table:["5c","6d","7d"],hands:[["8c","9c"],["9d","td"],["kd","ad"]],name:Lang.Instance.STRAIGHT[Lang.loc],winHand:["8c","9c"]},{win:["th","jh","qh","ks","as"],table:["th","jh","qh"],hands:[["ks","as"],["ah","7s"],["kc","3c"]],name:Lang.Instance.STRAIGHT[Lang.loc],winHand:["ks","as"]},{win:["2h","3h","4h","ah","5h"],table:["2h","3h","4h"],hands:[["ah","5h"],["5s","6s"],["kc","3c"]],name:Lang.Instance.STRAIGHT_FLUSH[Lang.loc],winHand:["ah","5h"]},{win:["as","ad","kc","ah","7d"],table:["as","ad","kc"],hands:[["ah","7d"],["ks","8c"],["qs","2c"]],name:Lang.Instance.THREE_OF_A_KIND[Lang.loc],winHand:["ah","7d"]},{win:["as","kh","kc","5c","kd"],table:["as","kh","kc"],hands:[["5c","kd"],["qs","3s"],["js","2s"]],name:Lang.Instance.THREE_OF_A_KIND[Lang.loc],winHand:["5c","kd"]},{win:["qs","2c","3d","qd","qc"],table:["qs","2c","3d"],hands:[["qd","qc"],["2s","3s"],["ac","kc"]],name:Lang.Instance.THREE_OF_A_KIND[Lang.loc],winHand:["qd","qc"]},{win:["as","7c","td","ac","ad"],table:["as","7c","td"],hands:[["ac","ad"],["5d","tc"],["2h","js"]],name:Lang.Instance.THREE_OF_A_KIND[Lang.loc],winHand:["ac","ad"]},{win:["2h","2c","ad","2c","ac"],table:["2h","2c","ad"],hands:[["2c","ac"],["qh","3s"],["5c","7d"]],name:Lang.Instance.THREE_OF_A_KIND[Lang.loc],winHand:["2c","ac"]}];this.combinations=ArrayUtils.shuffle(this.combinations);var j=new UITableBack(this.game);this.addChild(j);var f=this.game.add.image(0,0,"images","oval.png");this.addChild(f);var k=new UIMoneyLabel(this.game,true);this.addChild(k);var l=new UITokens(this.game,2,10);this.addChild(l);var d=new UIMoneyLabel(this.game);this.addChild(d);var i=new UIHand(this.game,5);this.addChild(i);var e=new UIHand(this.game,3);this.addChild(e);var m=new UIHands(this.game);this.addChild(m);var h=this.game.add.bitmapText(0,0,"font_all",Lang.Instance.HINT[Lang.loc],50);this.addChild(h);var g=new UILogo(this.game);this.addChild(g);h.anchor.set(0.5);this.tableCardsBack=i;this.hint=h;this.bank=k;this.oval=f;this.balance=d;this.token=l;this.hands=m;this.tableHands=e;this.timer=this.game.time.create(false);this.logo=g;this.hands=m;e.setCards(this.combinations[this.level]["table"],true);m.setCards(ArrayUtils.shuffle(this.combinations[this.level]["hands"]));if(Controller.Instance.orientation==Controller.LANDSCAPE){j.width=1280;j.scale.y=j.scale.x;f.scale.set(0.85,0.85);f.x=500;f.y=115;k.x=f.x+f.width+30;k.y=f.y+10;l.x=f.x+4;l.y=f.y-5;d.x=1000-30;d.y=f.y+50+100;i.x=(1280-500)/2;i.y=200;i.setCards(["","","","",""]);e.x=(1280-500)/2;e.y=200;m.x=250;m.y=480;h.tint=16772648;h.x=i.x+250;h.y=i.y+190;g.x=30;g.y=30}else{j.width=720;j.scale.y=j.scale.x;j.y=100;f.scale.set(0.85,0.85);f.x=210;f.y=280;l.x=f.x+4;l.y=f.y-5;k.x=f.x+f.width+30;k.y=f.y+10;d.x=320+50;d.y=700;i.x=(720-290)/2;i.y=370;i.setCards(["","","","",""]);e.x=(720-290)/2;e.y=370;m.x=20;m.y=1050;h.tint=16772648;h.x=720/2;h.y=m.y-45;g.scale.set(1);g.x=180;g.y=30}this.timerEnd=this.game.time.create(false);var c=window.endGameTimer;if(c==null){c=45000}this.timerEnd.add(c,this.endGame,this);this.timerEnd.start();this.startRound()}a.prototype.startRound=function(){if(!this.gameIsEnded){if(this.winCards!=null){this.remove(this.winCards,true)}var c=new UIHand(this.game,5);c.setCards(this.combinations[this.level]["win"],true,false);this.addChild(c);if(Controller.Instance.orientation==Controller.LANDSCAPE){c.x=(1280-500)/2;c.y=200}else{c.x=(720-290)/2;c.y=370}c.visible=false;this.winCards=c;var d=new UITokens(this.game,2,this.token.tokensBalance.length);this.addChild(d);d.x=this.token.x;d.y=this.token.y;this.remove(this.token,true);this.token=d;this.hands.visible=true;this.currentWin=this.combinations[this.level]["winHand"];this.hint.visible=false;this.bank.setValue(0);this.balance.setValue(Controller.Instance.balance);this.timer.add(400,this.newBankValue,this);this.timer.start();this.token.prepare(0,this.firstTime);this.tableHands.prepare(0);this.hands.startRound();this.bringToTop(this.hands);this.game.sound.play("flop")}};a.prototype.newBankValue=function(){if(!this.gameIsEnded){this.tableHands.startRound();this.timer.add(750,this.newBankValue2,this)}};a.prototype.newBankValue2=function(){if(!this.gameIsEnded){this.token.startRound();this.bank.setValue(100);this.game.add.tween(this.bank).to({alpha:1},200,Phaser.Easing.Sinusoidal.In,true);this.bank.visible=true;this.timer.add(750,this.newBankValue3,this)}};a.prototype.newBankValue3=function(){if(!this.gameIsEnded){this.bank.setValue(200);Controller.Instance.balance-=100;this.balance.setValue(Controller.Instance.balance);this.hint.visible=true;if(this.firstTime){this.hands.showSelectors();this.timer.add(1000,this.ready,this)}else{this.ready()}}};a.prototype.ready=function(){this.firstTime=false;this.isReady=true};a.prototype.selectTable=function(c){if(!this.gameIsEnded){this.game.add.tween(this.hint).to({alpha:0},200,Phaser.Easing.Sinusoidal.In,true);if(this.isReady){this.hands.hideSelectors();this.isReady=false;this.game.sound.play("choose");this.currentWin=this.hands.win(this.combinations[this.level]["winHand"]);this.timer.add(1200,this.showResult,this);this.timer.start();if(this.currentWin==c&&this.currentWin>=0){this.isWin=true}else{this.isWin=false}}}};a.prototype.showResult=function(){if(!this.gameIsEnded){this.tableHands.visible=false;this.hands.visible=false;this.winCards.visible=true;var d=this.winCards.x;var c=this.winCards.y;this.tableCardsBack.visible=false;if(Controller.Instance.orientation==Controller.LANDSCAPE){this.game.add.tween(this.winCards.scale).to({x:1.2,y:1.2},500,Phaser.Easing.Sinusoidal.InOut,true,200);this.game.add.tween(this.winCards).to({x:d-48,y:c-10},500,Phaser.Easing.Sinusoidal.InOut,true,200)}else{this.game.add.tween(this.winCards.scale).to({x:1.2,y:1.2},500,Phaser.Easing.Sinusoidal.InOut,true,200);this.game.add.tween(this.winCards).to({x:d-24,y:c-10},500,Phaser.Easing.Sinusoidal.InOut,true,200)}this.game.sound.play("win");this.winCards.playFX();this.hint.text=this.combinations[this.level]["name"];this.hint.alpha=0;this.hint.visible=true;this.game.add.tween(this.hint).to({alpha:1},500,Phaser.Easing.Sinusoidal.InOut,true);this.timer.add(1000,this.showWinToken,this);this.timer.start()}};a.prototype.showWinToken=function(){if(!this.gameIsEnded){this.token.showWin(this.isWin);if(this.isWin){Controller.Instance.balance+=200}this.bank.setValue(0);this.game.add.tween(this.bank).to({alpha:0},200,Phaser.Easing.Sinusoidal.In,true);this.balance.setValue(Controller.Instance.balance);if(Controller.Instance.orientation==Controller.LANDSCAPE){if(Controller.Instance.balance>400){this.game.add.tween(this.balance).to({x:1000-30-60},200,Phaser.Easing.Sinusoidal.In,true)}else{this.game.add.tween(this.balance).to({x:1000-30-30},200,Phaser.Easing.Sinusoidal.In,true)}}this.timer.add(500,this.newRound,this);this.timer.start()}};a.prototype.newRound=function(){if(!this.gameIsEnded){this.tableCardsBack.visible=true;this.game.add.tween(this.hint).to({alpha:0},500,Phaser.Easing.Sinusoidal.InOut,true);this.winCards.hide();this.level++;if(this.level>=this.combinations.length){this.level=0}this.hint.visible=false;this.tableHands.setCards(this.combinations[this.level]["table"],true);this.hint.text=Lang.Instance.HINT.en;this.hands.setCards(ArrayUtils.shuffle(this.combinations[this.level]["hands"]),true);if(!this.gameIsEnded){this.bringToTop(this.hands)}if(Controller.Instance.balance>=100){this.timer.add(500,this.startRound,this);this.timer.start()}else{this.endGame()}}};a.prototype.endGame=function(){this.timerEnd.stop();this.gameIsEnded=true;this.hands.visible=false;var c=new UITableBack(this.game);this.addChild(c);c.alpha=0;if(Controller.Instance.orientation==Controller.LANDSCAPE){c.width=1280;c.scale.y=c.scale.x}else{c.width=720;c.scale.y=c.scale.x;c.y=100}this.game.add.tween(c).to({alpha:1},200,Phaser.Easing.Sinusoidal.In,true);this.resultWindow=new ResultWindow(this.game);this.addChild(this.resultWindow);this.bringToTop(this.logo)};return a}(Phaser.Group));var UITableBack=(function(b){__extends(a,b);function a(c){b.call(this,c);if(Controller.Instance.orientation==Controller.LANDSCAPE){var f=this.game.add.image(0,0,"images","table_01.png");this.addChild(f);var h=this.game.add.group(this);this.add(h);for(var e=0;e<52;e++){var d=this.game.add.image(0,0,"images","table_02.png");h.addChild(d);d.x=e*(d.width)}h.x=f.width;var j=this.game.add.image(0,0,"images","table_01.png");this.addChild(j);j.x=1140;j.scale.x=-1}else{var f=this.game.add.image(0,0,"images","table_vert.png");this.addChild(f);var j=this.game.add.image(0,0,"images","table_vert.png");this.addChild(j);j.x=640;j.scale.x=-1}}return a}(Phaser.Group));var UITitleWin=(function(b){__extends(a,b);function a(c){b.call(this,c);if(Controller.Instance.balance<=0){var e=this.game.add.bitmapText(0,0,"font_all","Good try!",72);e.tint=16241921;this.addChild(e)}else{var e=this.game.add.bitmapText(0,0,"font_all",Lang.Instance.YOU_WIN[Lang.loc],60);e.tint=16241921;this.addChild(e);var d=this.game.add.bitmapText(0,0,"font_all","$"+Controller.Instance.balance+"!",60);this.addChild(d);d.x=e.x+e.width+10;d.y=e.y}}return a}(Phaser.Group));var UIToken=(function(b){__extends(a,b);function a(d,c){if(c===void 0){c="blue"}b.call(this,d);var e=this.game.add.image(0,0,"images",c+".png");this.addChild(e);this.icon=e}a.prototype.select=function(c){if(c===void 0){c=16711935}this.icon.tint=c};return a}(Phaser.Group));var UITokens=(function(b){__extends(a,b);function a(d,g,c){if(g===void 0){g=2}if(c===void 0){c=8}b.call(this,d);this.tokensBank=[];this.tokensBalance=[];this.tokenOffset=8;this.limitToken=8;for(var f=0;f<g;f++){var e=new UIToken(this.game);this.addChild(e);e.y=-this.tokenOffset*f;this.tokensBank[f]=e}for(var f=0;f<c;f++){var e=new UIToken(this.game);this.addChild(e);if(Controller.Instance.orientation==Controller.LANDSCAPE){e.y=50-this.tokenOffset*f;e.x=494;if(f>7){e.x=494-75;e.y=50-this.tokenOffset*(f-8)}}else{e.y=410-this.tokenOffset*f;e.x=70;if(f>7){e.x=70-75;e.y=410-this.tokenOffset*(f-8)}}this.tokensBalance[f]=e}}a.prototype.showWin=function(d){console.log("show win");var g=100;var c=0;if(d){for(var f=0;f<4;f++){var e=this.tokensBank[f];this.bringToTop(e);var h=50-this.tokenOffset*this.tokensBalance.length-this.tokenOffset*f;var j=494;if(Controller.Instance.orientation==Controller.PORTRAIT){h=410-this.tokenOffset*this.tokensBalance.length-this.tokenOffset*f;j=70}if(f+this.tokensBalance.length>7){j=494-75;h=50-this.tokenOffset*(this.tokensBalance.length)-this.tokenOffset*(f-8);if(Controller.Instance.orientation==Controller.PORTRAIT){j=70-75;h=410-this.tokenOffset*(this.tokensBalance.length)-this.tokenOffset*(f-8)}}if(f==0){this.game.add.tween(e).to({x:j,y:h},g+200,Phaser.Easing.Sinusoidal.Out,true,c+f*100).onStart.add(function(){this.game.sound.play("chips_bet",0.5)})}else{this.game.add.tween(e).to({x:j,y:h},g+200,Phaser.Easing.Sinusoidal.Out,true,c+f*100)}}for(var f=this.tokensBank.length-1;f>this.tokensBank.length-3;f--){var e=this.tokensBank[f];this.tokensBalance[this.tokensBalance.length+1]=e}}else{g=200;c=0;this.game.sound.play("chips_bet",0.5);for(var f=0;f<this.tokensBank.length;f++){var e=this.tokensBank[f];var h=-200-this.tokenOffset*f;if(Controller.Instance.orientation==Controller.PORTRAIT){h=-350-this.tokenOffset*f}this.game.add.tween(e).to({y:h},g,Phaser.Easing.Sinusoidal.In,true,f*50)}}};a.prototype.startRound=function(){this.game.sound.play("chips_move",0.5);var e=250;for(var d=0;d<this.tokensBank.length;d++){var c=this.tokensBank[d];c.y=-500;this.game.add.tween(c).to({y:-this.tokenOffset*d},e,Phaser.Easing.Sinusoidal.Out,true,d*100)}for(var d=2;d>0;d--){var c=this.tokensBalance[this.tokensBalance.length-3+d];if(d==1){this.game.add.tween(c).to({x:0,y:-this.tokenOffset*(d+1)},e+200,Phaser.Easing.Sinusoidal.Out,true,350+d*100).onStart.add(function(){this.game.sound.play("chips_bet",0.5)})}else{this.game.add.tween(c).to({x:0,y:-this.tokenOffset*(d+1)},e+200,Phaser.Easing.Sinusoidal.Out,true,350+d*100)}}for(var d=this.tokensBalance.length-1;d>this.tokensBalance.length-3;d--){var c=this.tokensBalance[d];this.tokensBank[this.tokensBank.length]=c}this.tokensBalance.length=this.tokensBalance.length-2};a.prototype.prepare=function(c,f){if(c===void 0){c=0}if(f===void 0){f=false}var g=500;for(var e=0;e<this.tokensBank.length;e++){var d=this.tokensBank[e];d.y=-500}if(f){for(var e=0;e<this.tokensBalance.length;e++){var d=this.tokensBalance[e];if(Controller.Instance.orientation==Controller.LANDSCAPE){d.y=50-this.tokenOffset*e;d.x=494;if(e>7){d.x=494-75;d.y=50-this.tokenOffset*(e-8)}}else{d.y=410-this.tokenOffset*e;d.x=70;if(e>7){d.x=70-75;d.y=410-this.tokenOffset*(e-8)}}}}};return a}(Phaser.Group));var UITokensWin=(function(a){__extends(b,a);function b(d,g,c){if(c===void 0){c="blue"}a.call(this,d);this.tokensBank=[];this.tokenOffset=8;for(var f=0;f<g;f++){var e=new UIToken(this.game,c);this.addChild(e);e.y=-this.tokenOffset*f;this.tokensBank[f]=e}this.prepare()}b.prototype.prepare=function(){for(var d=0;d<this.tokensBank.length;d++){var c=this.tokensBank[d];c.y=-500}};b.prototype.show=function(){this.game.sound.play("chips_move",0.5);var e=250;for(var d=0;d<this.tokensBank.length;d++){var c=this.tokensBank[d];c.y=-500;this.game.add.tween(c).to({y:-this.tokenOffset*d},e,Phaser.Easing.Sinusoidal.Out,true,d*100)}};return b}(Phaser.Group));
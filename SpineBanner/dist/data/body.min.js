/* Created by Olphabet */var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},ScaleManager=Phaser.ScaleManager,Sprite=Phaser.Sprite,Game=Phaser.Game,Line=Phaser.Line,Group=Phaser.Group,Tween=Phaser.Tween,Sound=Phaser.Sound;!function(){function a(){C.stage.disableVisibilityChange=!0,C.input.touch.preventDefault=!1,window.document.bgColor="#000000",C.scale.parentIsWindow=!0,C.scale.pageAlignHorizontally=!0,C.scale.pageAlignVertically=!0,C.load.onLoadComplete.addOnce(b),C.scale.scaleMode=ScaleManager.NO_SCALE,C.scale.fullScreenScaleMode=ScaleManager.NO_SCALE,window.addEventListener("resize",c.bind(this),!1),C.scale.onOrientationChange.add(c);var a=this.game.load;"true"!=window.local&&(a.baseURL="https://s3.amazonaws.com/mdsp-creative/com.murka.scatterslots/"),C.load.atlasJSONHash("images","assets/images.png",null,J),C.load.image("bg","assets/bg.jpg"),window.sound&&"true"==window.sound&&(D=!0,C.load.audio("music",["assets/0.mp3","assets/0.ogg"]),C.load.audio("win",["assets/win.mp3","assets/win.ogg"])),console.log("creative sounds: "+D)}function b(){E=!0}function c(){E&&(C.scale.isPortrait?f():e())}function d(){D&&(r=C.add.audio("music",.2,!0),r.play()),k=C.add.group();var a=C.add.group(),b=C.add.image(4,0,"bg"),c=C.add.image(2*b.width-4,0,"bg");a.add(b),a.add(c),c.scale.x=-1,a.x=Math.floor((w-a.width)/2),a.y=0,k.add(a);var d=C.add.graphics(0,0);d.beginFill(16777215),d.drawRect(0,0,180,520),d.x=234,d.y=10,k.add(d);var h=C.add.graphics(0,0);h.beginFill(16777215),h.drawRect(0,0,460,405),h.x=d.x+d.width,h.y=75,k.add(h);var i=C.add.graphics(0,0);i.beginFill(16777215),i.drawRect(0,0,180,520),i.x=h.x+h.width,i.y=d.y,k.add(i),l=C.add.group();for(var j=0;j<10;j++){var v=new I(C);C.add.existing(v),t[t.length]=v,0!=j&&1!=j||(v.mask=d),8!=j&&9!=j||(v.mask=i),2!=j&&3!=j&&4!=j&&5!=j&&6!=j&&7!=j||(v.mask=h),l.add(v)}var x=20,y=345,z=140;t[0].x=262,t[0].y=y,t[1].x=t[0].x,t[1].y=t[0].y-t[0].height,t[2].x=t[1].x+z+x,t[2].y=y-5,t[3].x=t[2].x,t[3].y=t[2].y-t[2].height,t[4].x=t[3].x+z+x,t[4].y=y-5,t[5].x=t[4].x,t[5].y=t[4].y-t[2].height,t[6].x=t[5].x+z+x,t[6].y=y-5,t[7].x=t[6].x,t[7].y=t[6].y-t[2].height,t[8].x=t[7].x+z+x,t[8].y=y,t[9].x=t[8].x,t[9].y=t[8].y-t[2].height,t[0].y=y+50,t[1].y=t[0].y-t[0].height,t[8].y=t[0].y,t[9].y=t[1].y;for(var j=0;j<10;j++)u[j]=t[j].y;o=C.add.image(0,0,"images","logotype.png"),n=C.add.image(0,0,"images","logotype.png"),p=C.add.group(),m=C.add.sprite(0,0,"images","btnspin.png"),m.anchor.setTo(.5,.5),o.anchor.setTo(.5,0),n.anchor.setTo(.5,0),s=C.add.image(0,0,"images","arrow.png"),s.height*=2,s.width*=2,s.anchor.setTo(.5,.5),s.scale.y=-2,s.alignIn(m,Phaser.TOP_CENTER),m.addChild(s),p.add(m),q=C.add.tween(s).to({y:-150},500,Phaser.Easing.Back.Out,!0,0,-1,!0),C.add.tween(m).to({alpha:.7},300,"Linear",!0,0,-1,!0),C.scale.isPortrait?f():e(),C.input.onTap.add(g,this)}function e(){C.scale.setGameSize(window.innerWidth,window.innerHeight);var a=100*C.scale.height/636/100;k.scale.y=k.scale.x=a,n.visible=!0,l.scale.x=l.scale.y=a,k.angle=0,l.angle=0,k.alignIn(C.scale.bounds,Phaser.CENTER),k.y=0,l.x=k.x,l.y=0,o.height=window.innerHeight-k.height,o.scale.x=o.scale.y,n.scale.x=n.scale.y=o.scale.y,o.x=window.innerWidth/5,o.y=k.height,n.x=window.innerWidth-window.innerWidth/5,n.y=o.y,p.height=window.innerHeight-k.height,p.scale.x=p.scale.y,p.alignIn(C.world.bounds,Phaser.BOTTOM_CENTER),p.y=k.height+p.height/2,A=y}function f(){C.scale.setGameSize(window.innerWidth,window.innerHeight);var a=100*C.scale.width/845/100;k.scale.y=k.scale.x=a,l.scale.x=l.scale.y=a,k.alignIn(C.world.bounds,Phaser.CENTER),l.x=k.x,l.y=k.y,n.visible=!1,n.scale.y=n.scale.x=.1,o.height=(window.innerHeight-k.height)/2,o.scale.x=o.scale.y,o.x=window.innerWidth/2,o.y=0,p.height=(window.innerHeight-k.height)/2,p.scale.x=p.scale.y,p.y=k.y+k.height+p.height/2,p.x=window.innerWidth/2,A=z}function g(){if(G){D&&(r.isPlaying||r.play()),s.visible=!1,G=!1,B++;for(var a=1e3,b=t[0].height,c=Phaser.Easing.Sinusoidal.InOut,d=0;d<10;d++)if(9!=d)C.add.tween(t[d]).to({y:t[d].y+b},a,c,!0);else{var e=C.add.tween(t[d]);e.onComplete.add(j,this),e.to({y:t[d].y+b},a,c,!0)}}}function h(){D&&r.stop();var a=C.add.image(0,0,"images","icon1big3.png");t[1].add(a),a.x=t[1].symbols[0].x+3,a.y=t[1].symbols[0].y-250,a.anchor.set(.5,.5),a.x+=a.width/2,a.y+=a.height/2,a.scale.x=a.scale.y=3,C.add.tween(a.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0);var b=C.add.image(0,0,"images","icon3big2.png");t[3].add(b),b.x=t[3].symbols[1].x,b.y=t[3].symbols[1].y+8,b.anchor.set(.5,.5),b.x+=b.width/2,b.y+=b.height/2,b.visible=!1,b.scale.x=b.scale.y=3;var c=C.add.tween(b.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0,500);if(c.onStart.addOnce(function(){b.visible=!0,C.time.events.add(Phaser.Timer.SECOND,i,this)}),D){var d=C.add.audio("win",.3);d.play()}}function i(){var a="trackClick",b=window[a];"function"==typeof b&&b()}function j(){if(3!=B||F){if(v)t[0].y=u[1],t[1].y=u[0],t[2].y=u[3],t[3].y=u[2],t[4].y=u[5],t[5].y=u[4],t[6].y=u[7],t[7].y=u[6],t[8].y=u[9],t[9].y=u[8],v=!1;else{for(var a=0;a<10;a++){var b=t[a];b.y=u[a]}t[1].randomize(),t[3].randomize(),t[5].randomize(),t[7].randomize(),t[9].randomize(),2==B&&(t[1].symbols[0].frameName="1.png",t[1].symbols[1].frameName="1.png",t[1].symbols[2].frameName="1.png",t[3].symbols[0].frameName="3.png",t[3].symbols[1].frameName="3.png"),v=!0}G=!0}else h()}var k,l,m,n,o,p,q,r,s,t=new Array,u=new Array,v=!0,w=1280,x="1.0.2",y="landscape",z="portrait",A="",B=0,C=new Phaser.Game(640,360,Phaser.CANVAS,"appodeal-creative",{preload:a,create:d},!1,!0),D=!1,E=!1,F=!1,G=!0;console.log("[com.murka.scatterslots], version:"+x);var H=function(a){function b(b,c,d){a.call(this,b,c,d,"images","4.png"),this.anchor.setTo(0,0)}return __extends(b,a),b}(Phaser.Sprite),I=function(a){function b(b){a.call(this,b),this.symbols=[];var c=[0,1,2,3,4,5,6,7,8,9];a.call(this,b);for(var d=0;d<10;d++){var e=new H(b,0,0),f=c.splice(Math.random()*c.length,1);e.frameName=f+".png",e.y=-130*d,this.symbols[d]=e,this.add(e)}}return __extends(b,a),b.prototype.randomize=function(){var a=[0,1,2,3,4,5,6,7,8,9];B<3&&(a=[0,8,2,3,4,5,6,7,8,9]);for(var b=0;b<10;b++){var c=this.symbols[b],d=a.splice(Math.random()*a.length,1);c.frameName=d+".png"}},b}(Phaser.Group),J={frames:{"0.png":{frame:{x:346,y:339,w:113,h:131},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:0,w:113,h:131},sourceSize:{w:122,h:132}},"1.png":{frame:{x:461,y:339,w:120,h:129},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:1,w:120,h:129},sourceSize:{w:122,h:132}},"2.png":{frame:{x:700,y:257,w:119,h:123},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:5,w:119,h:123},sourceSize:{w:122,h:132}},"3.png":{frame:{x:583,y:339,w:115,h:129},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:1,w:115,h:129},sourceSize:{w:122,h:132}},"4.png":{frame:{x:235,y:1,w:109,h:119},rotated:!1,trimmed:!0,spriteSourceSize:{x:6,y:7,w:109,h:119},sourceSize:{w:122,h:132}},"5.png":{frame:{x:116,y:377,w:115,h:125},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:4,w:115,h:125},sourceSize:{w:122,h:132}},"6.png":{frame:{x:700,y:382,w:116,h:122},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:4,w:116,h:122},sourceSize:{w:122,h:132}},"7.png":{frame:{x:233,y:377,w:111,h:125},rotated:!1,trimmed:!0,spriteSourceSize:{x:5,y:3,w:111,h:125},sourceSize:{w:122,h:132}},"8.png":{frame:{x:700,y:153,w:120,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:13,w:120,h:102},sourceSize:{w:122,h:132}},"9.png":{frame:{x:1,y:377,w:113,h:127},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:3,w:113,h:127},sourceSize:{w:122,h:132}},"arrow.png":{frame:{x:118,y:251,w:128,h:124},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:128,h:124},sourceSize:{w:128,h:124}},"btnspin.png":{frame:{x:248,y:153,w:406,h:184},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:406,h:184},sourceSize:{w:406,h:184}},"icon1big3.png":{frame:{x:1,y:1,w:115,h:374},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:115,h:374},sourceSize:{w:115,h:374}},"icon3big2.png":{frame:{x:118,y:1,w:115,h:248},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:115,h:248},sourceSize:{w:115,h:248}},"logotype.png":{frame:{x:346,y:1,w:442,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:442,h:150},sourceSize:{w:442,h:150}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"images.png",format:"RGBA8888",size:{w:827,h:505},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:df1168dba7dece366edd51e089132fd6:4dc25a60cb7bca8754ca66695effbcbf:9be8c185d95a5be4a06ec0067a3d8380$"}}}();
/* Created by Olphabet */var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},TBanner;!function(a){var b=function(a){function b(b,c,d){a.call(this,b,c,d,""),this.anchor.set(.5,.5),this._cardHolderBack=this.game.add.sprite(25,-9,"card_holder_back"),this._cardHolderBack.anchor.set(.5),this.addChild(this._cardHolderBack),this._cardHolderCards=this.game.add.sprite(-85,-110,"card_holder_cards"),this._cardHolderCards.anchor.set(.5),this.addChild(this._cardHolderCards),this._cardHolderCurrentCard=this.game.add.sprite(70,-57,"2_B"),this._cardHolderCurrentCard.anchor.set(.5),this.addChild(this._cardHolderCurrentCard),this._cardHolderCardInBucket=this.game.add.sprite(-73,-75,"card_back"),this._cardHolderCardInBucket.anchor.set(.5),this._cardHolderCardInBucket.angle=-6.8,this._cardHolderCardInBucket.scale.set(.9),this.addChild(this._cardHolderCardInBucket),this._hideCardPosX=this._cardHolderCardInBucket.x,this._hideCardPosY=this._cardHolderCardInBucket.y,this._hideCardAngle=this._cardHolderCardInBucket.angle,this._cardHolderBucket=this.game.add.sprite(-75,-47,"card_holder_bucket"),this._cardHolderBucket.anchor.set(.5),this.addChild(this._cardHolderBucket),this._cardHolderOverlay=this.game.add.sprite(0,0,"card_holder_over"),this._cardHolderOverlay.anchor.set(.5),this.addChild(this._cardHolderOverlay),this.activeInput(!0),this._cardHolderCards.events.onInputUp.add(this.inputUp,this),this._cardHolderBucket.events.onInputUp.add(this.inputUp,this)}return __extends(b,a),b.prototype.activeInput=function(a){this._cardHolderCards.inputEnabled=a,this._cardHolderBucket.inputEnabled=a},b.prototype.generateNewCard=function(){var a=this,b=0;this.game.add.tween(this._cardHolderCardInBucket).to({x:[this._cardHolderCardInBucket.x+90,this._cardHolderCurrentCard.x],y:[this._cardHolderCurrentCard.y-90,this._cardHolderCurrentCard.y]},425+b,Phaser.Easing.Linear.None,!0,100).interpolation(function(a,b){return Phaser.Math.catmullRomInterpolation(a,b)}).onComplete.add(this.endNewCardAnim,this),this.game.add.tween(this._cardHolderCardInBucket).to({angle:360},425+b,Phaser.Easing.Sinusoidal.InOut,!0),this.game.add.tween(this._cardHolderCardInBucket.scale).to({x:0,y:1},212.5+b/2,Phaser.Easing.Sinusoidal.InOut,!0).onComplete.add(function(){a._cardHolderCardInBucket.loadTexture("K_R"),a.game.add.tween(a._cardHolderCardInBucket.scale).to({x:1,y:1},212.5+b/2,Phaser.Easing.Sinusoidal.InOut,!0)})},b.prototype.endNewCardAnim=function(){var a=this;this._cardHolderCardInBucket.x=this._hideCardPosX,this._cardHolderCardInBucket.y=this._hideCardPosY,this._cardHolderCardInBucket.angle=this._hideCardAngle,this._cardHolderCardInBucket.scale.set(.9),this._cardHolderCardInBucket.loadTexture("card_back"),this._cardHolderCurrentCard.loadTexture("K_R"),this.game.add.tween(this._cardHolderCurrentCard).to({y:this._cardHolderCurrentCard.y+5},25,Phaser.Easing.Sinusoidal.In,!0).onComplete.add(function(){a.game.add.tween(a._cardHolderCurrentCard).to({y:a._cardHolderCurrentCard.y-5},100,Phaser.Easing.Sinusoidal.InOut,!0)}),this.activeInput(!0)},b.prototype.inputUp=function(){this.activeInput(!1),this.generateNewCard()},b}(Phaser.Sprite);a.CardHolder=b}(TBanner||(TBanner={}));var TBanner;!function(a){var b=function(){function a(){}return a.isLandscape=function(){return this.height<this.width},a.isDefaultLandscape=function(){return this.defaultHeight<this.defaultWidth},a.changeScale=function(a){this.width=window.innerWidth,this.height=window.innerHeight;var b=this.width,c=this.height;this.isLandscape()!=this.isDefaultLandscape()&&(b=this.height,c=this.width),this.scale=Math.min(b/this.defaultWidth,c/this.defaultHeight),this.maxScale=Math.max(b/this.defaultWidth,c/this.defaultHeight)/this.scale,this.width/=this.scale,this.height/=this.scale,a.scale.setUserScale(this.scale,this.scale,0,0),a.scale.setGameSize(this.width,this.height),a.world.setBounds(0,0,this.width,this.height),a.scale.refresh()},Object.defineProperty(a,"halfWidth",{get:function(){return.5*a.width},enumerable:!0,configurable:!0}),Object.defineProperty(a,"halfHeight",{get:function(){return.5*a.height},enumerable:!0,configurable:!0}),a.defaultWidth=1136,a.defaultHeight=640,a.scale=1,a.maxScale=1,a}();a.Config=b}(TBanner||(TBanner={}));var TBanner;!function(a){var b=function(){function b(){this.game=new Phaser.Game(a.Config.defaultWidth,a.Config.defaultHeight,Phaser.AUTO,"banner",null,!1),a.Config.globalEvents=new a.OEventDispatcher,this.game.state.add("Boot",a.Boot,!0),this.game.state.add("Body",a.Body)}return b}();a.Main=b}(TBanner||(TBanner={})),window.onload=function(){new TBanner.Main;console.log("Load"),setTimeout("window.scrollTo(0, 1)",10)};var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},TBanner;!function(a){var b=function(a){function b(b,c,d,e){void 0===e&&(e=null);var f=null,g=null,h=null;d.length>0&&(f=d[0],d.length>1?(g=d[1],h=d.length>2?d[2]:d[0]):(g=d[0],h=d[0])),a.call(this,b,0,0,c,null,null,g,f,h,null),this._framesString=[f,g,h],this.soundOver="over",this.soundDown="click",this.anchor.setTo(.5),this._cb=e,this._deltaScale=.1,this._defaultScale=1,this._isDown=!1,this._isOver=!1,this.onInputOver.add(this.over,this),this.onInputOut.add(this.out,this),this.onInputDown.add(this.down,this),this.onInputUp.add(this.up,this)}return __extends(b,a),b.prototype.setCBContext=function(a){this._cntxt=a},b.prototype.setAnimationScale=function(a,b){void 0===a&&(a=0),void 0===b&&(b=1),this._deltaScale=a,this._defaultScale=b},b.prototype.over=function(){this._isDown||this.scale.set(this._defaultScale+this._deltaScale),this._isOver=!0,console.log("OVER")},b.prototype.out=function(){this._isDown||this.scale.set(this._defaultScale),this._isOver=!1},b.prototype.up=function(){var a=this;this.scale.set(this._isOver?this._defaultScale+this._deltaScale:this._defaultScale);var b=this.game.device.desktop?this._isOver:this.input.pointerOver();this._isOver?this.frameName=this._framesString[1]:b&&setTimeout(function(){a.frameName=a._framesString[0]},5),this._isDown=!1,b&&null!=this._cb?(this._cntxt?this._cb.bind(this._cntxt)():this._cb(),this.frameName=this._framesString[0]):0==b&&this.scale.set(this._defaultScale)},b.prototype.down=function(){this.scale.set(this._defaultScale-this._deltaScale),this._isDown=!0},b.prototype.deleteFromParent=function(){this.parent&&this.parent.removeChild(this),this.onInputOver.remove(this.over,this),this.onInputOut.remove(this.out,this),this.onInputDown.remove(this.down,this),this.onInputUp.remove(this.up,this)},Object.defineProperty(b.prototype,"enabled",{set:function(a){var b=this;this.inputEnabled=a,a||setTimeout(function(){b.frameName=b._framesString[0],b.scale.set(b._defaultScale)},5)},enumerable:!0,configurable:!0}),b}(Phaser.Button);a.OButton=b}(TBanner||(TBanner={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},TBanner;!function(a){var b=function(a){function b(b,c,d,e,f){void 0===f&&(f=null);var g=null,h=null,i=null,j=null,k=null,l=null;d.length>0&&(g=d[0],d.length>1?(h=d[1],i=d.length>2?d[2]:d[0]):(h=d[0],i=d[0])),e.length>0&&(j=e[0],e.length>1?(k=e[1],l=e.length>2?e[2]:e[0]):(k=e[0],l=e[0])),a.call(this,b,0,0,c,null,null,h,g,i,null),this._framesString=[g,h,i,j,k,l],this._check=!0,this.soundOver="over",this.soundDown="click",this.anchor.setTo(.5),this._cb=f,this._deltaScale=.1,this._defaultScale=1,this._isDown=!1,this._isOver=!1,this.onInputOver.add(this.over,this),this.onInputOut.add(this.out,this),this.onInputDown.add(this.down,this),this.onInputUp.add(this.up,this)}return __extends(b,a),b.prototype.setCheck=function(a){if(this._check!=a){this._check=a;var b=0;a||(b=3),this.setFrames(this._framesString[b+1],this._framesString[b],this._framesString[b+2],this._framesString[b])}},Object.defineProperty(b.prototype,"check",{get:function(){return this._check},enumerable:!0,configurable:!0}),b.prototype.setCBContext=function(a){this._cntxt=a},b.prototype.setAnimationScale=function(a,b){void 0===a&&(a=0),void 0===b&&(b=1),this._deltaScale=a,this._defaultScale=b},b.prototype.over=function(){this._isDown||this.scale.set(this._defaultScale+this._deltaScale),this._isOver=!0,console.log("OVER")},b.prototype.out=function(){this._isDown||this.scale.set(this._defaultScale),this._isOver=!1},b.prototype.up=function(){var a=this;this.scale.set(this._isOver?this._defaultScale+this._deltaScale:this._defaultScale);var b=this.game.device.desktop?this._isOver:this.input.pointerOver();this._isOver?this.frameName=this._framesString[1+(this._check?0:3)]:b&&setTimeout(function(){a.frameName=a._framesString[a._check?0:3]},5),this._isDown=!1,b&&null!=this._cb?(this.setCheck(!this.check),this._cntxt?this._cb.bind(this._cntxt)():this._cb(),this.frameName=this._framesString[this._check?0:3]):0==b&&this.scale.set(this._defaultScale)},b.prototype.down=function(){this.scale.set(this._defaultScale-this._deltaScale),this._isDown=!0},b.prototype.deleteFromParent=function(){this.parent&&this.parent.removeChild(this),this.onInputOver.remove(this.over,this),this.onInputOut.remove(this.out,this),this.onInputDown.remove(this.down,this),this.onInputUp.remove(this.up,this)},Object.defineProperty(b.prototype,"enabled",{set:function(a){var b=this;this.inputEnabled=a,a||setTimeout(function(){b.frameName=b._framesString[b._check?0:3],b.scale.set(b._defaultScale)},5)},enumerable:!0,configurable:!0}),b}(Phaser.Button);a.OButtonCheck=b}(TBanner||(TBanner={}));var TBanner;!function(a){var b=function(){function a(a,b,c){void 0===c&&(c=!1),this.name=a,this.cb=b,this.useCapture=c}return a}(),c=function(){function a(){this._listeners=[]}return a.prototype.on=function(a,c,d){if(null!=c){for(var e=0;e<this._listeners.length;e++)if(a==this._listeners[e].name&&c==this._listeners[e].cb)return;this._listeners.push(new b(a,c,d))}},a.prototype.off=function(a,b){for(var c=0;c<this._listeners.length;)a!=this._listeners[c].name||null!=b&&b!=this._listeners[c].cb?c++:this._listeners.splice(c,1)},a.prototype.dispatch=function(a){for(var b=0;b<this._listeners.length;b++)if(a==this._listeners[b].name&&(this._listeners[b].cb(),this._listeners[b].useCapture))return},a}();a.OEventDispatcher=c}(TBanner||(TBanner={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},TBanner;!function(a){var b=function(b){function d(d,e,f,g,h){void 0===e&&(e=0),void 0===f&&(f=0),b.call(this,d,0,0,g,h),this.anchor.set(.5),d.stage.addChild(this),this._landscapeScale=1,this._portretScale=1,this._wideMode=!1,this._leftOffset=null,this._bottomOffset=null,this.setPortretPosition(e,f),this.setLandscapePosition(e,f),this._factory=new c(d,this),a.Config.globalEvents.on("changeOrientationAndResize",this.changeOrientation.bind(this),!1)}return __extends(d,b),d.prototype.setPortretPosition=function(b,c,d){this._portretX=b/a.Config.defaultWidth,this._portretY=c/a.Config.defaultHeight,this._leftOffset=null,d&&this.changeOrientation()},d.prototype.setLandscapePosition=function(b,c,d){this._landscapeX=b/a.Config.defaultHeight,this._landscapeY=c/a.Config.defaultWidth,this._bottomOffset=null,d&&this.changeOrientation()},d.prototype.setLeftOffset=function(a,b){this._leftOffset=a,this._portretX=null,this._rigthOffset=null,b&&this.changeOrientation()},d.prototype.setBottomOffset=function(a,b){this._bottomOffset=a,this._landscapeY=null,this._topOffset=null,b&&this.changeOrientation()},d.prototype.setRightOffset=function(a,b){this._rigthOffset=a,this._portretX=null,this._leftOffset=null,b&&this.changeOrientation()},d.prototype.setTopOffset=function(a,b){this._topOffset=a,this._landscapeY=null,this._bottomOffset=null,b&&this.changeOrientation()},d.prototype.setCustomScale=function(a,b,c){void 0===a&&(a=1),void 0===b&&(b=1),this._portretScale=a,this._landscapeScale=b,c&&this.changeOrientation()},d.prototype.getCustomScale=function(){return a.Config.isLandscape()?this._landscapeScale:this._portretScale},d.prototype.setWideMode=function(a,b){this._wideMode=a,b&&this.changeOrientation()},d.prototype.changeOrientation=function(){var b=1;this._wideMode&&(b=a.Config.maxScale);var c=this._leftOffset;this._rigthOffset&&(c=this._rigthOffset+a.Config.width);var d=this._topOffset;this._bottomOffset&&(d=this._bottomOffset+a.Config.height),a.Config.isLandscape()?(this.x=c?c:a.Config.width*this._landscapeX,this.y=d?d:a.Config.height*this._landscapeY,this.scale.x=this.scale.y=this._landscapeScale*b):(this.x=c?c:a.Config.width*this._portretX,this.y=d?d:a.Config.height*this._portretY,this.scale.x=this.scale.y=this._portretScale*b)},d.prototype.add=function(){return this._factory},d}(Phaser.Sprite);a.OSprite=b;var c=function(){function b(a,b){this._game=a,this._parent=b}return b.prototype.button=function(b,c,d){var e=new a.OButton(this._game,b,c,d);return this._parent.addChild(e),e},b}()}(TBanner||(TBanner={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},TBanner;!function(a){var b=function(b){function c(c,d,e){b.call(this,c,0,0),this.anchor.set(.5),c.stage.addChild(this),d&&this.setBackGround(d,e),this.changeOrientation(),a.Config.globalEvents.on("changeOrientationAndResize",this.changeOrientation.bind(this),!1)}return __extends(c,b),c.prototype.setBackGround=function(b,c){c=c?c:1;var d=this.game.add.graphics(0,0);d.beginFill(b,c),d.drawRect(.5*-a.Config.defaultWidth,.5*-a.Config.defaultHeight,a.Config.defaultWidth,a.Config.defaultHeight),d.endFill(),this.addChild(d)},c.prototype.onMask=function(){this._mask=this.game.add.graphics(0,0),this._mask.beginFill(0,1),this._mask.drawRect(.5*-a.Config.defaultWidth,.5*-a.Config.defaultHeight,a.Config.defaultWidth,a.Config.defaultHeight),this._mask.endFill(),this.mask=this._mask,this.changeOrientation()},c.prototype.changeOrientation=function(){var b=Math.min(a.Config.width/a.Config.defaultWidth,a.Config.height/a.Config.defaultHeight);this.x=.5*a.Config.width,this.y=.5*a.Config.height,this._mask&&(this._mask.x=this.x,this._mask.y=this.y,this._mask.scale.x=this._mask.scale.y=b),this.scale.x=this.scale.y=b},c}(Phaser.Sprite);a.OSpritePortret=b}(TBanner||(TBanner={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},TBanner;!function(a){var b=function(b){function c(){b.apply(this,arguments)}return __extends(c,b),c.prototype.create=function(){this._background=this.game.add.sprite(0,0,"background"),this._background.anchor.set(.5),this._cardHolderOsprite=new a.OSprite(this.game,a.Config.halfHeight,a.Config.halfWidth),this._cardHolderOsprite.setLandscapePosition(a.Config.halfHeight,a.Config.width-12,!0),this._cardHolder=new a.CardHolder(this.game,0,0),this._cardHolderOsprite.addChild(this._cardHolder),a.Config.globalEvents.on("changeOrientationAndResize",this.changeOrientation.bind(this),!1),this.changeOrientation()},c.prototype.changeOrientation=function(){var b=Math.max(a.Config.width/a.Config.defaultWidth,a.Config.height/a.Config.defaultHeight);this._background.x=.5*a.Config.width,this._background.y=.5*a.Config.height,this._background.scale.set(b),a.Config.isLandscape()},c.prototype.update=function(){},c}(Phaser.State);a.Body=b}(TBanner||(TBanner={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},TBanner;!function(a){var b=function(b){function c(){b.apply(this,arguments)}return __extends(c,b),c.prototype.preload=function(){var a=window.BACKGROUND_PICNAME;this.game.load.image("background","assets/"+a),this.game.load.image("2_B","assets/2_B.png"),this.game.load.image("2_R","assets/2_R.png"),this.game.load.image("3_B","assets/3_B.png"),this.game.load.image("3_R","assets/3_R.png"),this.game.load.image("4_B","assets/4_B.png"),this.game.load.image("4_R","assets/4_R.png"),this.game.load.image("5_B","assets/5_B.png"),this.game.load.image("5_R","assets/5_R.png"),this.game.load.image("6_B","assets/6_B.png"),this.game.load.image("6_R","assets/6_R.png"),this.game.load.image("7_B","assets/7_B.png"),this.game.load.image("7_R","assets/7_R.png"),this.game.load.image("8_B","assets/8_B.png"),this.game.load.image("8_R","assets/8_R.png"),this.game.load.image("9_B","assets/9_B.png"),this.game.load.image("9_R","assets/9_R.png"),this.game.load.image("10_B","assets/10_B.png"),this.game.load.image("10_R","assets/10_R.png"),this.game.load.image("J_B","assets/J_B.png"),this.game.load.image("J_R","assets/J_R.png"),this.game.load.image("Q_B","assets/Q_B.png"),this.game.load.image("Q_R","assets/Q_R.png"),this.game.load.image("K_B","assets/K_B.png"),this.game.load.image("K_R","assets/K_R.png"),this.game.load.image("A_B","assets/A_B.png"),this.game.load.image("A_R","assets/A_R.png"),this.game.load.image("card_back","assets/card_back.png"),this.game.load.image("card_holder_over","assets/card_holder_over.png"),this.game.load.image("card_holder_bucket","assets/card_holder_bucket.png"),this.game.load.image("card_holder_cards","assets/card_holder_cards.png"),this.game.load.image("card_holder_back","assets/card_holder_back.png"),this.game.load.image("star_star","assets/star_star.png"),this.game.load.image("star_plank","assets/star_plank.png"),this.game.load.image("star_plank_stik_end","assets/star_plank_stik_end.png"),this.game.load.image("star_plank_stik_begin","assets/star_plank_stik_begin.png"),this.game.load.image("star_plank_bg","assets/star_plank_bg.png")},c.prototype.create=function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!0,this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,window.addEventListener("resize",this.changeOrientation.bind(this),!1),this.game.scale.onOrientationChange.add(this.changeOrientation,this),this.changeOrientation(),this.game.state.start("Body",!0)},c.prototype.changeOrientation=function(){a.Config.changeScale(this.game),a.Config.globalEvents.dispatch("changeOrientationAndResize")},c}(Phaser.State);a.Boot=b}(TBanner||(TBanner={}));
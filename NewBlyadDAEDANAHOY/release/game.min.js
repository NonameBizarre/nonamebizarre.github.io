var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var mygame;(function(b){var a=(function(d){__extends(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}c.prototype.preload=function(){this.preloadBarBackground=this.add.image(0,0,"preloaderBarEmpty");this.preloadBar=this.add.image(0,0,"preloaderBar");this.preloadBarBackground.alignIn(this.game.world.bounds,Phaser.CENTER);this.preloadBar.x=Math.floor(this.preloadBarBackground.x);this.preloadBar.y=Math.floor(this.preloadBarBackground.y);this.load.setPreloadSprite(this.preloadBar);this.icon=this.add.image(0,0,"connect");this.icon.anchor.set(0.5);this.icon.scale.x=-1;this.icon.x=this.preloadBarBackground.x+this.preloadBarBackground.width/2;this.icon.y=this.preloadBarBackground.y+this.preloadBarBackground.height+25;var e=this.game.time.events.loop(10,function(){this.icon.rotation+=0.1},this);var g=window.baseURL;var f=window.currentBG;if(f==0){f=this.game.rnd.integerInRange(1,3)}this.game.load.image("background",g+"assets/background_"+f+".png");if(window.collectable){this.game.load.atlas("objects",g+"assets/collect.png",g+"assets/collect.json")}else{this.game.load.atlas("objects",g+"assets/no_collect.png",g+"assets/no_collect.json")}if(window.myLang=="en"){this.game.load.image("play_free",g+"assets/EngButton_"+window.buttonPlayColor+".png")}else{this.game.load.image("play_free",g+"assets/DutButton_"+window.buttonPlayColor+".png")}b.Factories.loadFactory(this.game,"banner",b.Boot.PATH_IMAGES+"DB/banner/");this.game.load.bitmapFont("font",g+"assets/font.png",g+"assets/font.fnt")};c.prototype.create=function(){var e=this;b.Boot.GAME=b.Factories.createFactory(this.game,"banner");dragonBones.PhaserFactory.startLoop();setTimeout(function(){e.game.state.start("PlayState")},100)};c.prototype.ChangeSize=function(){this.game.scale.setGameSize(window.innerWidth,window.innerHeight);this.preloadBarBackground.width=window.innerWidth;this.preloadBarBackground.scale.x=this.preloadBarBackground.scale.x-0.1;this.preloadBarBackground.scale.y=this.preloadBarBackground.scale.x;this.preloadBar.scale.set(this.preloadBarBackground.scale.x,this.preloadBarBackground.scale.y);if(this.game.scale.width>window.innerWidth){this.game.canvas.style.marginLeft="-"+(this.game.scale.width-window.innerWidth)/2+"px"}this.preloadBarBackground.alignIn(this.game.world.bounds,Phaser.CENTER);this.preloadBar.x=this.preloadBarBackground.x;this.preloadBar.y=this.preloadBarBackground.y;this.icon.x=this.preloadBarBackground.x+this.preloadBarBackground.width/2;this.icon.y=this.preloadBarBackground.y+this.preloadBarBackground.height+30};return c}(Phaser.State));b.Preloader=a})(mygame||(mygame={}));var mygame;(function(c){var a="1.0.0";var e=(function(g){__extends(h,g);function h(){var i=g.call(this,true)||this;i._canRestart=false;return i}h.prototype.create=function(){var k=this;this.game.time.advancedTiming=true;this._canRestart=false;this.game.physics.startSystem(Phaser.Physics.ARCADE);this.game.stage.smoothed=true;c.Controller.Instance.width=d().width;c.Controller.Instance.height=d().height;this._background=new c.OSprite(c.Core.centerX,c.Core.centerY-650,"background").myScale(1.8).otherScale(0.75).otherXY(c.Core.centerY,c.Core.centerX).enabledBgMode().end();this.game.world.addChild(this._background);this._gameSprite=new c.OSprite(c.Core.centerX,c.Core.centerY).myScale(1.55).otherScale(1.6).otherXY(c.Core.centerY,c.Core.centerX).end();if(c.Core.isLandscape){this._gameMatch=new c.DBSprite(c.Boot.GAME,"HOR",this.game);this.game.time.events.add(12000,function(){console.log("END BLYAD");k.compliteHoriz()},this);this._gameMatch.play("start","idle");this._gameMatch.setPos(-70,-15);console.log(this._gameMatch.height);console.log(this._gameMatch.width);this._gameSprite.pivot.set(this._gameMatch.width/2,this._gameMatch.height/2);this._gameSprite.addChild(this._gameMatch);this._btnDownload=new c.DBSprite(c.Boot.GAME,"PLAY_FREE",this.game);this._btnDownload.play("stop");this._btnDownload.setPos(-25,-415);this._gameSprite.addChild(this._btnDownload);for(var j=0;j<this.world.children.length;j++){if(j>1){this.world.children[j].x=-10000}}this._canRestart=true}else{this._gameMatch=new c.DBSprite(c.Boot.GAME,"VERT",this.game);this.game.time.events.add(12000,function(){console.log("END BLYAD");k.compliteVert()},this);this._gameMatch.play("start","idle",function(i){});this._gameMatch.setPos(20,-200);console.log(this._gameMatch.height);console.log(this._gameMatch.width);this._gameSprite.pivot.set(this._gameMatch.width/2,this._gameMatch.height/2);this._gameSprite.addChild(this._gameMatch);this._btnDownload=new c.DBSprite(c.Boot.GAME,"PLAY_FREE",this.game);this._btnDownload.play("stop");this._btnDownload.setPos(-25,-250);this._gameSprite.addChild(this._btnDownload);console.log(this.world.children.length);for(var j=0;j<this.world.children.length;j++){if(j>1){this.world.children[j].x=-10000}}this._canRestart=true}this.game.time.events.add(2300,function(){k._btnDownload.play("up","loop",function(i){if(i.label=="loop"){k._btnDownload.getSlot("Layer 2").play("loop")}})},this)};h.prototype.compliteVert=function(){var i=this;this._gameMatch.stop();this._gameMatch.getSlot("Layer 4").stop();this._gameMatch.getSlot("Layer 2").stop();this._gameMatch.getSlot("Layer 1").stop();this._gameMatch.play("idle");this._gameMatch.getSlot("Layer 4").play("idle");this._gameMatch.getSlot("Layer 2").play("idle");this._gameMatch.getSlot("Layer 1").play("idle");this.game.time.events.add(11000,function(){i.compliteVert()},this)};h.prototype.compliteHoriz=function(){var i=this;this._gameMatch.stop();this._gameMatch.getSlot("Layer 4").stop();this._gameMatch.getSlot("Layer 3").stop();this._gameMatch.getSlot("Layer 1").stop();this._gameMatch.play("idle");this._gameMatch.getSlot("Layer 4").play("idle");this._gameMatch.getSlot("Layer 3").play("idle");this._gameMatch.getSlot("Layer 1").play("idle");this.game.time.events.add(11000,function(){i.compliteHoriz()},this)};h.prototype.update=function(){};h.prototype.onLandscape=function(){if(this._canRestart){this._btnDownload.free();this.game.time.removeAll();this._gameMatch.free();this._gameSprite.destroy(true);this.game.state.restart(true)}};h.prototype.onPortret=function(){if(this._canRestart){this._btnDownload.free();this.game.time.removeAll();this._gameMatch.free();this._gameSprite.destroy(true);this.game.state.restart(true)}};return h}(c.OState));c.PlayState=e;function d(l){if(l===void 0){l=false}var i=0;var k=0;var g=0;var j=0;if(!(document.documentElement.clientWidth==0)){g=document.documentElement.clientWidth;j=document.documentElement.clientHeight}i=g;k=j;if(window.innerWidth>window.innerHeight){i=window.innerWidth;k=window.innerHeight}return{width:i,height:k}}function f(g,h){if(h===void 0){h=null}window.trackEvent(g,h)}function b(){window.trackClick()}})(mygame||(mygame={}));var mygame;(function(a){var b=(function(){function c(){this.balance=500;this.dealTime=5;this.playerMoney=3000;this.soundsEnabled=true;this.width=1280;this.height=720;this.orientation=c.LANDSCAPE}Object.defineProperty(c,"Instance",{get:function(){if(this.instance===null||this.instance===undefined){this.instance=new c()}return this.instance},enumerable:true,configurable:true});c.prototype.playSound=function(d){if(this.soundsEnabled){}};return c}());b.LANDSCAPE="landscape";b.PORTRAIT="portrait";a.Controller=b})(mygame||(mygame={}));var mygame;(function(b){var a=(function(d){__extends(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}c.prototype.preload=function(){this.load.crossOrigin="anonymous";var e=window.baseURL;this.game.load.image("connect",e+"assets/connect.png");this.game.load.image("preloaderBar",e+"assets/Loader-Front.png");this.game.load.image("preloaderBarEmpty",e+"assets/Loader-Back.png")};c.prototype.create=function(){b.Controller.Instance.orientation=b.Controller.LANDSCAPE;if(window.orientation=="p"){b.Controller.Instance.orientation=b.Controller.PORTRAIT}this.game.input.touch.preventDefault=false;this.game.stage.backgroundColor=1907997;this.input.maxPointers=1;this.stage.disableVisibilityChange=true;b.Core.begin(this.game,!this.game.device.desktop);this.game.state.start("Preloader")};return c}(Phaser.State));a.PATH_IMAGES="./assets/";b.Boot=a})(mygame||(mygame={}));var mygame;(function(a){var b=(function(c){__extends(d,c);function d(){var e=c.call(this,1280,720,Phaser.AUTO,"mdsp-creative",null,false,true)||this;a.Core.init(1280,720);e.state.add("Boot",a.Boot,false);e.state.add("Preloader",a.Preloader,false);e.state.add("PlayState",a.PlayState,false);e.state.start("Boot");return e}return d}(Phaser.Game));a.Game=b})(mygame||(mygame={}));var mygame;(function(a){var b=(function(c){__extends(d,c);function d(g,f,e){var h=c.call(this)||this;h._eventsBounds=null;if(g instanceof dragonBones.PhaserFactory){e?e.world.add(h):"";h._visual=g.buildArmatureDisplay(f);h.addChild(h._visual)}else{h._visual=g}h._pausedTime=-1;return h}d.prototype.free=function(){if(this._eventsBounds){this._eventsBounds.destroy(true)}this._visual.dispose(true)};d.prototype.stopInteractive=function(){this._eventsBounds.inputEnabled=false};d.prototype.addEvent=function(e,f,g){this._visual.addEvent(e,f,g?g:this)};d.prototype.removeEvent=function(e,f){this._visual.removeEvent(e,f,null)};d.prototype.removeFromParent=function(){if(this.parent){this.parent.removeChild(this)}};d.prototype._play=function(e,f){if(e==this._currentLabel&&this._playTimes==0&&this._visual.animation.isPlaying){return}this._currentLabel=e;this._pausedTime=-1;this._currentAnimState=this._visual.animation.play(e,f);this._playTimes=this._currentAnimState.playTimes;return this._currentAnimState};d.prototype.playEx=function(f,h,e,g){this._nextState=h;this._cb=e;this._cbContext=g?g:this;this._play(f);if(h||e){this.addEvent(this._playTimes==1?"complete":"loopComplete",this.completePlaying)}return this._currentAnimState};d.prototype.play=function(g,f,e,h){if(typeof f==="string"){return this.playEx(g,f,e,h)}else{if(typeof f==="function"){return this.playEx(g,null,f,e)}else{return this._play(g)}}};d.prototype.stop=function(){this._visual.animation.stop()};d.prototype.pause=function(){if(this._currentAnimState==null){this._visual.animation.stop()}this._pausedTime=this._currentAnimState.currentTime;this._visual.animation.stop(this._currentLabel)};d.prototype.resume=function(){if(this._pausedTime==-1){return}this._pausedTime=-1;this._visual.animation.gotoAndPlayByTime(this._currentLabel,this._pausedTime)};d.prototype.completePlaying=function(f){this.removeEvent("complete",this.completePlaying);this.removeEvent("loopComplete",this.completePlaying);f.label=this.currentLabel;if(typeof this._cb==="function"){this._cb.bind(this._cbContext)(f)}if(this._nextState){this.playEx(this._nextState,null,this._cb,this._cbContext)}else{this._cb=null}};d.prototype.getBone=function(e){var f=this._visual.armature.getSlot(e);if(f.childArmature){return f.childArmature.display}return f.display};d.prototype.getBoneArmature=function(e){return this._visual.armature.getSlot(e).childArmature};d.prototype.getSlot=function(f,e){if(e===void 0){e=false}var g=this._visual.armature.getSlot(f);if(g==null){return null}if(!e&&g.childArmature==null){return null}return g.childArmature?g.childArmature.animation:g.armature.animation};d.prototype.setPos=function(e,f){this.x=e?e:this.x;this.y=f?f:this.y};d.prototype.createBounds=function(f){if(this._eventsBounds!=null){this.removeChild(this._eventsBounds);this._eventsBounds.destroy(true)}var e=this.getBounds();this._eventsBounds=new Phaser.Graphics(f,0,0);this._eventsBounds.beginFill(16711680,0);this._eventsBounds.drawRect(-e.width*0.5,-e.height*0.5,e.width,e.height);this._eventsBounds.endFill();this.addChild(this._eventsBounds)};Object.defineProperty(d.prototype,"animation",{get:function(){return this._visual.animation},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"armature",{get:function(){return this._visual._armature},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"sprites",{get:function(){return this._visual.children},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"events",{get:function(){if(!this._eventsBounds){return null}return this._eventsBounds.events},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"input",{get:function(){if(!this._eventsBounds){return null}return this._eventsBounds.input},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"inputEnabled",{get:function(){if(!this._eventsBounds){return false}return this._eventsBounds.inputEnabled},set:function(e){this._eventsBounds.inputEnabled=e},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"currentLabel",{get:function(){return this._currentLabel},enumerable:true,configurable:true});d.prototype.update=function(){};d.prototype.postUpdate=function(){};return d}(PIXI.DisplayObjectContainer));a.DBSprite=b})(mygame||(mygame={}));var mygame;(function(a){var b=(function(){function c(){}c.loadFactory=function(f,g,h,d,e){d=d?d:"_tex";e=e?e:"_ske";h+=g;f.load.json(g+"textureData",h+d+".json");f.load.json(g+"dragonBonesData",h+e+".json");f.load.image(g+"texture",h+d+".png")};c.createFactory=function(d,e){var g=new dragonBones.PhaserFactory(null,d);g.parseDragonBonesData(d.cache.getJSON(e+"dragonBonesData"));g.parseTextureAtlasData(d.cache.getJSON(e+"textureData"),d.cache.getBaseTexture(e+"texture"));return g};return c}());a.Factories=b})(mygame||(mygame={}));var dragonBones;(function(b){var a=(function(d){__extends(c,d);function c(e){var f=d.call(this,e)||this;f._eventDispatcher=new EventEmitter();return f}c.prototype._onClear=function(){if(this._debugDrawer){}this._armature=null;this._debugDrawer=null;this.destroy()};c.prototype._debugDraw=function(e){};c.prototype.hasEvent=function(e){return this._eventDispatcher.listeners(e,true)};c.prototype.addEvent=function(e,f,g){this._eventDispatcher.addListener(e,f,g)};c.prototype.removeEvent=function(e,f,g){this._eventDispatcher.removeListener(e,f,g)};c.prototype._dispatchEvent=function(e,f){this._eventDispatcher.emit(e,f)};c.prototype.dispose=function(e){if(e===void 0){e=true}if(this._armature){this._armature.dispose();this._armature=null}};Object.defineProperty(c.prototype,"armature",{get:function(){return this._armature},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"animation",{get:function(){return this._armature.animation},enumerable:true,configurable:true});c.prototype.advanceTimeBySelf=function(e){if(e){this._armature.clock=b.PhaserFactory._clock}else{this._armature.clock=null}};return c}(Phaser.Group));b.PhaserArmatureDisplay=a})(dragonBones||(dragonBones={}));var dragonBones;(function(a){var b=(function(d){__extends(c,d);function c(e,f){if(e===void 0){e=null}var g=d.call(this,e)||this;if(!c._eventManager){c._eventManager=new a.PhaserArmatureDisplay(f);c._clock=new a.WorldClock();c._game=f}return g}c._clockHandler=function(e){if(e===void 0){e=-1}if(c._clock==null){return}c._clock.advanceTime(e)};Object.defineProperty(c,"clock",{get:function(){return c._clock},enumerable:true,configurable:true});Object.defineProperty(c,"factory",{get:function(){if(!c._factory){c._factory=new c(null,this._game)}return c._factory},enumerable:true,configurable:true});c.startLoop=function(e){if(e===void 0){e=20}c._clockID=setInterval(function(){c._clockHandler()},e)};c.stopLoop=function(){if(c._clockID==-1){return}clearInterval(c._clockID);c._clockID=-1};Object.defineProperty(c,"DBLooping",{get:function(){return c._clockID!=-1},enumerable:true,configurable:true});c.prototype._generateTextureAtlasData=function(e,f){if(e){e.texture=f}else{e=a.BaseObject.borrowObject(a.PhaserTextureAtlasData)}return e};c.prototype._generateArmature=function(g){var f=a.BaseObject.borrowObject(a.Armature);var e=new a.PhaserArmatureDisplay(c._game);e._armature=f;f._init(g.armature,g.skin,e,e,c._eventManager);return f};c.prototype._generateSlot=function(q,r,n){var p=a.BaseObject.borrowObject(a.PhaserSlot);p._init(r,new Phaser.Sprite(c._game,null,null),null);var g=[];for(var m=0,h=r.displays.length;m<h;++m){var e=r.displays[m];switch(e.type){case 0:if(!e.texture||q.textureAtlasName){e.texture=this._getTextureData(q.textureAtlasName||q.dataName,e.path)}g.push(p.rawDisplay);break;case 2:if(!e.texture||q.textureAtlasName){e.texture=this._getTextureData(q.textureAtlasName||q.dataName,e.path)}if(!e.mesh&&e.share){e.mesh=r.getMesh(e.share)}g.push(p.meshDisplay);break;case 1:var k=this.buildArmature(e.path,q.dataName,null,q.textureAtlasName);if(k){k.inheritAnimation=e.inheritAnimation;if(!k.inheritAnimation){var j=r.slot.actions.length>0?r.slot.actions:k.armatureData.actions;if(j.length>0){for(var o=0,f=j.length;o<f;++o){k._bufferAction(j[o])}}else{k.animation.play()}}e.armature=k.armatureData}g.push(k);break;default:g.push(null);break}}p._setDisplayList(g);return p};c.prototype.buildArmatureDisplay=function(i,g,f,j){if(g===void 0){g=null}if(f===void 0){f=null}if(j===void 0){j=null}var h=this.buildArmature(i,g,f,j);if(h){var e=h.display;c._clock.add(h);return e}return null};c.prototype.getTextureDisplay=function(f,e){if(e===void 0){e=null}var g=this._getTextureData(e,f);if(g){if(!g.texture){var i=g.parent.texture;var h=new PIXI.Rectangle(0,0,g.region.width,g.region.height);g.texture=new PIXI.Texture(i,null,g.region,h)}return new PIXI.Sprite(g.texture)}return null};Object.defineProperty(c.prototype,"soundEventManater",{get:function(){return c._eventManager},enumerable:true,configurable:true});return c}(a.BaseFactory));b._factory=null;b._eventManager=null;b._clock=null;b._clockID=-1;a.PhaserFactory=b})(dragonBones||(dragonBones={}));var dragonBones;(function(b){var a=(function(d){__extends(c,d);function c(){var e=d.call(this)||this;e._renderDisplayX=0;e._renderDisplayY=0;return e}c.toString=function(){return"[class dragonBones.PhaserSlot]"};c.prototype._onClear=function(){d.prototype._onClear.call(this);this._renderDisplay=null};c.prototype._initDisplay=function(e){};c.prototype._disposeDisplay=function(e){if(e){e.destroy()}};c.prototype._onUpdateDisplay=function(){this._renderDisplay=(this._display?this._display:this._rawDisplay)};c.prototype._addDisplay=function(){var e=this._armature.display;e.addChild(this._renderDisplay);this._renderDisplayX=this.armature.getBone(this.name).origin.x*0;this._renderDisplayY=this.armature.getBone(this.name).origin.y*0};c.prototype._replaceDisplay=function(g){var e=this._armature.display;var f=g;e.addChild(this._renderDisplay);e.swapChildren(this._renderDisplay,f);e.removeChild(f)};c.prototype._removeDisplay=function(){this._renderDisplay.parent.removeChild(this._renderDisplay)};c.prototype._updateZOrder=function(){var e=this._armature.display;e.addChildAt(this._renderDisplay,this._zOrder)};c.prototype._updateVisible=function(){this._renderDisplay.visible=this._parent.visible};c.prototype._updateBlendMode=function(){switch(this._blendMode){case 0:this._renderDisplay.blendMode=PIXI.blendModes.NORMAL;break;case 1:this._renderDisplay.blendMode=PIXI.blendModes.ADD;break;case 3:this._renderDisplay.blendMode=PIXI.blendModes.DARKEN;break;case 4:this._renderDisplay.blendMode=PIXI.blendModes.DIFFERENCE;break;case 6:this._renderDisplay.blendMode=PIXI.blendModes.HARD_LIGHT;break;case 9:this._renderDisplay.blendMode=PIXI.blendModes.LIGHTEN;break;case 10:this._renderDisplay.blendMode=PIXI.blendModes.MULTIPLY;break;case 11:this._renderDisplay.blendMode=PIXI.blendModes.OVERLAY;break;case 12:this._renderDisplay.blendMode=PIXI.blendModes.SCREEN;break;default:break}};c.prototype._updateColor=function(){this._renderDisplay.alpha=this._colorTransform.alphaMultiplier};c.prototype._updateFrame=function(){var h=this._textureData;if(this._displayIndex>=0&&this._display&&h){var g=h.parent;if(this._armature.replacedTexture&&this._displayData&&g===this._displayData.texture.parent){g=this._armature._replaceTextureAtlasData;if(!g){g=b.BaseObject.borrowObject(b.PhaserTextureAtlasData);g.copyFrom(h.parent);g.texture=this._armature.replacedTexture;this._armature._replaceTextureAtlasData=g}h=g.getTexture(h.name)}var i=g.texture;if(i){if(!h.texture){h.texture=new PIXI.Texture(i,h.region,h.region,new PIXI.Rectangle(0,0,h.region.width,h.region.height))}var f=this._renderDisplay;f.texture=h.texture;this._updateVisible();return}}var e=this._renderDisplay;e.visible=false;e.texture=null;e.x=0;e.y=0};c.prototype._updateMesh=function(){var w=this._ffdVertices.length>0;if(this._meshData.skinned){for(var v=0,g=0,t=this._meshData.vertices.length;v<t;v+=2){var e=v/2;var o=this._meshData.boneIndices[e];var q=this._meshData.boneVertices[e];var x=this._meshData.weights[e];var m=0,s=0;for(var k=0,n=o.length;k<n;++k){var j=this._meshBones[o[k]];var u=j.globalTransformMatrix;var p=x[k];var f=0,r=0;if(w){f=q[k*2]+this._ffdVertices[g];r=q[k*2+1]+this._ffdVertices[g+1]}else{f=q[k*2];r=q[k*2+1]}m+=(u.a*f+u.c*r+u.tx)*p;s+=(u.b*f+u.d*r+u.ty)*p;g+=2}}}else{if(w){var h=this._meshData.vertices;for(var v=0,t=this._meshData.vertices.length;v<t;v+=2){var m=h[v]+this._ffdVertices[v];var s=h[v+1]+this._ffdVertices[v+1]}}}};c.prototype._updateTransform=function(f){if(f){this._renderDisplay.position.x=0;this._renderDisplay.position.y=0;this._renderDisplay.scale.x=1;this._renderDisplay.scale.y=1;this._renderDisplay.rotation=0;this._renderDisplay.pivot.x=0;this._renderDisplay.pivot.y=0}else{var e=this.globalTransformMatrix.tx-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY);var g=this.globalTransformMatrix.ty-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY);this.updateGlobalTransform();this._renderDisplay.position.x=this._renderDisplayX+this.globalTransformMatrix.tx-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY);this._renderDisplay.position.y=this._renderDisplayY+this.globalTransformMatrix.ty-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY);this._renderDisplay.scale.x=!this.global.scaleX?1:this.global.scaleX;this._renderDisplay.scale.y=!this.global.scaleY?1:this.global.scaleY;this._renderDisplay.rotation=this.global.skewX||0}};return c}(b.Slot));b.PhaserSlot=a})(dragonBones||(dragonBones={}));var dragonBones;(function(b){var c=(function(e){__extends(d,e);function d(){return e.call(this)||this}d.toString=function(){return"[class dragonBones.PhaserTextureAtlasData]"};d.prototype._onClear=function(){e.prototype._onClear.call(this);if(this.texture){this.texture=null}};d.prototype.generateTexture=function(){return b.BaseObject.borrowObject(a)};return d}(b.TextureAtlasData));b.PhaserTextureAtlasData=c;var a=(function(e){__extends(d,e);function d(){return e.call(this)||this}d.toString=function(){return"[class dragonBones.PhaserTextureData]"};d.prototype._onClear=function(){e.prototype._onClear.call(this);if(this.texture){this.texture.destroy(true);this.texture=null}};return d}(b.TextureData));b.PhaserTextureData=a})(dragonBones||(dragonBones={}));var Controller=mygame.Controller;var BackGround=(function(a){__extends(b,a);function b(c){var d=a.call(this,c)||this;d.bg=d.game.add.image(0,0,"background");d.addChild(d.bg);if(Controller.Instance.orientation==Controller.LANDSCAPE){d.bg.height=Controller.Instance.width;d.bg.scale.x=d.bg.scale.y;d.x=0}else{d.bg.height=Controller.Instance.height;d.bg.scale.x=d.bg.scale.y;d.x=(Controller.Instance.width-d.bg.width)/2}return d}return b}(Phaser.Group));